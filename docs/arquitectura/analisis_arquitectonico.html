<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An谩lisis Arquitect贸nico - Finanzas AGV</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav id="toc">
        <div class="nav-logo">
            <img src="../assets/logo-agrovet.png" alt="Agrovet Market Logo">
        </div>
        <h2><i class="bi bi-folder2-open"></i> Documentaci贸n</h2>
        <ul>
            <li><a href="../index.html"><i class="bi bi-house"></i> Inicio</a></li>
            <li><a href="../manual_usuario.html"><i class="bi bi-person-workspace"></i> Manual Usuario</a></li>
            <li><a href="../manual_desarrollador.html"><i class="bi bi-code-slash"></i> Manual Dev</a></li>
            <li class="nav-submenu">
                <a href="../arquitectura.html" class="active"><i class="bi bi-diagram-3"></i> Arquitectura</a>
                <ul>
                    <li><a href="../arquitectura/c4model.html">Vista C4</a></li>
                    <li><a href="../arquitectura/analisis_arquitectonico.html" class="active">An谩lisis Stack</a></li>
                </ul>
            </li>
            <li><a href="../adrs/index.html"><i class="bi bi-diagram-2"></i> Decisiones (ADRs)</a></li>
            <li><a href="../runbooks/index.html"><i class="bi bi-tools"></i> Runbooks</a></li>
            <li><a href="../bitacora.html"><i class="bi bi-journal-text"></i> Bit谩cora</a></li>
            <li><a href="../guia_git_main.html"><i class="bi bi-git"></i> Gu铆a Git</a></li>
        </ul>
    </nav>
    <main>
        <h1><i class="bi bi-diagram-3"></i> An谩lisis Arquitect贸nico Completo</h1>
        
        <section>
            <p><strong>Fecha:</strong> Diciembre 2024</p>
            <p><strong>Autor:</strong> Equipo de Arquitectura</p>
            <p><strong>Objetivo:</strong> Evaluaci贸n t茅cnica del stack actual y recomendaciones de mejora.</p>
        </section>

        <section>
            <h2>1. Situaci贸n Actual Detectada</h2>
            <h3>Arquitectura Actual</h3>
            <ul>
                <li>Monolito Flask sin base de datos local.</li>
                <li>Conexi贸n a Odoo v铆a XML-RPC.</li>
                <li>Consultas en tiempo real (sin cache persistente).</li>
                <li>Exportaciones Excel en memoria.</li>
            </ul>
        </section>

        <section>
            <h2>2. Recomendaciones Cr铆ticas</h2>
            <div class="note">
                <strong>Prioridad M谩xima:</strong> Implementar una base de datos local (Read Replica) de PostgreSQL.
            </div>
            <p>El uso de XML-RPC es ineficiente para reportes masivos debido al overhead de serializaci贸n y la latencia de red. PostgreSQL directo permite consultas hasta 100 veces m谩s r谩pidas.</p>
        </section>

        <section>
            <h2>3. Stack Tecnol贸gico Propuesto (Dream Stack)</h2>
            <ul>
                <li><strong>Backend:</strong> Flask + SQLAlchemy + PostgreSQL.</li>
                <li><strong>Procesamiento:</strong> Celery + Redis para tareas as铆ncronas y ETL.</li>
                <li><strong>Frontend:</strong> Mantener Next.js 14.</li>
            </ul>
        </section>

        <section>
            <h2>4. Plan de Implementaci贸n</h2>
            <table>
                <thead>
                    <tr>
                        <th>Fase</th>
                        <th>Descripci贸n</th>
                        <th>Prioridad</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Fase 1</td>
                        <td>Migraci贸n a PostgreSQL Directo (Read Replica)</td>
                        <td> Cr铆tico</td>
                    </tr>
                    <tr>
                        <td>Fase 2</td>
                        <td>Celery + Redis para ETL y Exportaciones</td>
                        <td> Importante</td>
                    </tr>
                    <tr>
                        <td>Fase 3</td>
                        <td>Optimizaci贸n de Consultas y Cache</td>
                        <td> Mejora</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
</body>
</html>
