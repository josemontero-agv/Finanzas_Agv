<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual del Desarrollador - Finanzas AGV</title>
    <link rel="stylesheet" href="style.css">
    <script src="nav.js" defer></script>
</head>
<body>
    <nav id="toc">
        <!-- Navegación cargada dinámicamente por nav.js -->
    </nav>
    <main>
        <h1><i class="bi bi-code-slash"></i> Manual del Desarrollador</h1>

        <section>
            <h2>1. Configuración del Entorno</h2>
            <p>La aplicación utiliza una arquitectura de microservicios con un backend en Flask y un frontend en Next.js.</p>
            
            <h3>Variables de Entorno (.env)</h3>
            <pre><code># Configuración de Odoo
ODOO_URL=https://amah.odoo.com/
ODOO_DB=amah-main-xxxx
ODOO_USER=usuario@agrovetmarket.com
ODOO_PASSWORD=contraseña

# Configuración de Email
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=usuario@agrovetmarket.com
MAIL_PASSWORD=app_password</code></pre>
        </section>

        <section>
            <h2>2. Instalación Backend (Flask)</h2>
            <ol>
                <li>Crear entorno virtual: <code>python -m venv venv</code></li>
                <li>Activar entorno: <code>venv\Scripts\activate</code></li>
                <li>Instalar dependencias: <code>pip install -r requirements.txt</code></li>
                <li>Ejecutar: <code>python run.py</code></li>
            </ol>
        </section>

        <section>
            <h2>3. Instalación Frontend (Next.js)</h2>
            <ol>
                <li>Navegar a carpeta: <code>cd frontend</code></li>
                <li>Instalar paquetes: <code>npm install</code></li>
                <li>Ejecutar en desarrollo: <code>npm run dev</code></li>
            </ol>
        </section>

        <section>
            <h2>4. Modo Desarrollo de Correos</h2>
            <div class="note">
                <strong>Importante:</strong> Para evitar envíos accidentales a clientes durante el desarrollo, active <code>DEV_EMAIL_MODE=True</code>.
            </div>
            <p>Esto redirigirá todos los correos a la dirección configurada en <code>DEV_EMAIL_RECIPIENT</code> (actualmente <code>josemontero2415@gmail.com</code>).</p>
        </section>
    </main>
</body>
</html>
