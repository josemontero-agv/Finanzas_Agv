{% for row in rows %}
<tr class="hover:bg-gray-50 transition-colors">
    <!-- 1. Fecha Factura -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.invoice_date }}</td>
    <!-- 2. Fecha Contabilización -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.date }}</td>
    <!-- 3. Tipo Documento -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.l10n_latam_document_type_id or '(00)' }}</td>
    <!-- 4. Número Documento -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.move_name }}</td>
    <!-- 5. Nro. Letra -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.l10n_latam_boe_number or '' }}</td>
    <!-- 6. Origen -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.invoice_origin }}</td>
    <!-- 6. Cuenta -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row['account_id/code'] }}</td>
    <!-- 7. Nombre Cuenta -->
    <td class="px-3 py-2 text-sm text-left truncate-cell" title="{{ row['account_id/name'] }}">{{ row['account_id/name'] }}</td>
    <!-- 8. RUC/DNI -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row['patner_id/vat'] }}</td>
    <!-- 9. Cliente -->
    <td class="px-3 py-2 text-sm text-left truncate-cell" title="{{ row.patner_id }}">{{ row.patner_id }}</td>
    <!-- 10. Moneda -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.currency_id }}</td>
    <!-- 11. Total Moneda Origen -->
    <td class="px-3 py-2 text-sm text-right whitespace-nowrap">{{ "{:,.2f}".format(row.amount_currency or 0) }}</td>
    <!-- 12. Adeudado -->
    <td class="px-3 py-2 text-sm text-right whitespace-nowrap">{{ "{:,.2f}".format(row.amount_residual_with_retention or row.amount_residual_currency or 0) }}</td>
    <!-- 13. Adeudado S/. -->
    <td class="px-3 py-2 text-sm text-right whitespace-nowrap">{{ "{:,.2f}".format(row.amount_residual_historical if row.amount_residual_historical is not none else row.amount_residual_signed or 0) }}</td>
    <!-- 14. Pendiente al corte -->
    <td class="px-3 py-2 text-sm text-right whitespace-nowrap">{{ "{:,.2f}".format(row.amount_residual_historical or 0) }}</td>
    <!-- 15. Pagado después corte -->
    <td class="px-3 py-2 text-sm text-right whitespace-nowrap">{{ "{:,.2f}".format(row.paid_after_cutoff or 0) }}</td>
    <!-- 14. Fecha Vencimiento -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.date_maturity }}</td>
    <!-- 14. Días Vencido -->
    <td class="px-3 py-2 text-sm text-center whitespace-nowrap {% if row.dias_vencido > 0 %}text-red-600 font-bold{% endif %}">
        {{ row.dias_vencido or 0 }}
    </td>
    <!-- 15. Estado -->
    <td class="px-3 py-2 text-sm text-center whitespace-nowrap">
        <span class="px-2 py-1 rounded text-xs {% if row.estado_deuda == 'VENCIDO' %}bg-red-100 text-red-800{% else %}bg-green-100 text-green-800{% endif %}">
            {{ row.estado_deuda }}
        </span>
    </td>
    <!-- 16. Antigüedad -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.antiguedad }}</td>
    <!-- 17. Referencia -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row.ref }}</td>
    <!-- 18. Condición Pago -->
    <td class="px-3 py-2 text-sm text-left">{{ row.invoice_payment_term_id }}</td>
    <!-- 19. Descripción -->
    <td class="px-3 py-2 text-sm text-left truncate-cell" title="{{ row.name }}">{{ row.name }}</td>
    <!-- 20. Vendedor -->
    <td class="px-3 py-2 text-sm text-left">{{ row['move_id/invoice_user_id'] }}</td>
    <!-- 21. Provincia -->
    <td class="px-3 py-2 text-sm text-left">{{ row['patner_id/state_id'] }}</td>
    <!-- 22. Distrito -->
    <td class="px-3 py-2 text-sm text-left">{{ row['patner_id/l10n_pe_district'] }}</td>
    <!-- 23. Código País -->
    <td class="px-3 py-2 text-sm text-left whitespace-nowrap">{{ row['patner_id/country_code'] }}</td>
    <!-- 24. País -->
    <td class="px-3 py-2 text-sm text-left">{{ row['patner_id/country_id'] }}</td>
    <!-- 25. Grupos -->
    <td class="px-3 py-2 text-sm text-left">{{ row.partner_groups }}</td>
    <!-- 26. Sub Canal -->
    <td class="px-3 py-2 text-sm text-left">{{ row.sub_channel_id }}</td>
    <!-- 27. Canal de Venta -->
    <td class="px-3 py-2 text-sm text-left">{{ row['move_id/sales_channel_id'] }}</td>
    <!-- 28. Tipo de Venta -->
    <td class="px-3 py-2 text-sm text-left">{{ row['move_id/sales_type_id'] }}</td>
</tr>
{% endfor %}

