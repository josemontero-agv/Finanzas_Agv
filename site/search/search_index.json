{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Documentaci\u00f3n Finanzas AGV","text":"<p>Bienvenido a la documentaci\u00f3n centralizada del proyecto Finanzas AGV. Aqu\u00ed encontrar\u00e1s toda la informaci\u00f3n relevante sobre la arquitectura, gu\u00edas de uso, decisiones t\u00e9cnicas y procedimientos operacionales del proyecto.</p> <p>Docs as Code</p> <p>Esta documentaci\u00f3n sigue el principio Docs as Code: todo est\u00e1 versionado en Git, validado autom\u00e1ticamente por CI/CD y desplegado continuamente en GitHub Pages.</p>"},{"location":"#estructura-de-la-documentacion","title":"\ud83d\uddc2\ufe0f Estructura de la Documentaci\u00f3n","text":""},{"location":"#para-gerencia-y-stakeholders","title":"\ud83d\udcca Para Gerencia y Stakeholders","text":"<p>\u00bfEres gerente o stakeholder? Comienza aqu\u00ed: - \ud83d\udcc8 Resumen Ejecutivo: Visi\u00f3n general del sistema sin tecnicismos - \ud83c\udfd7\ufe0f Arquitectura del Sistema (Vista C1): Diagrama visual del contexto del sistema</p>"},{"location":"#proyecto","title":"\ud83d\udcc2 Proyecto","text":"<p>Informaci\u00f3n de alto nivel sobre el proyecto. - Visi\u00f3n General: Descripci\u00f3n completa del alcance y objetivos. - Estructura: Organizaci\u00f3n del c\u00f3digo y m\u00f3dulos. - Bit\u00e1cora: Registro hist\u00f3rico de cambios y decisiones.</p>"},{"location":"#decisiones-adrs","title":"\ud83d\udccb Decisiones (ADRs)","text":"<p>Registros de decisiones arquitect\u00f3nicas importantes. - \u00cdndice de ADRs: Todas las decisiones t\u00e9cnicas documentadas. - Plantilla: Para crear nuevos ADRs.</p>"},{"location":"#operaciones-runbooks","title":"\ud83d\udd27 Operaciones (Runbooks)","text":"<p>Procedimientos paso a paso para tareas operacionales. - RB-001: Despliegue en Producci\u00f3n - RB-002: Gesti\u00f3n de Base de Datos - RB-101: Conexi\u00f3n Odoo - RB-102: Env\u00edo de Correos</p>"},{"location":"#guias","title":"\ud83d\ude80 Gu\u00edas","text":"<p>Instrucciones para desplegar y utilizar el sistema. - Inicio R\u00e1pido: Gu\u00eda paso a paso para levantar el entorno. - Instrucciones: Detalles operativos b\u00e1sicos. - Contribuir: C\u00f3mo agregar o mejorar documentaci\u00f3n.</p>"},{"location":"#tecnico","title":"\ud83d\udee0\ufe0f T\u00e9cnico","text":"<p>Documentaci\u00f3n espec\u00edfica para desarrolladores. - Cambios Login: Detalles sobre la implementaci\u00f3n de autenticaci\u00f3n. - Mejoras UI/UX: Plan y registro de mejoras en la interfaz.</p>"},{"location":"#automatizacion-y-calidad","title":"\ud83e\udd16 Automatizaci\u00f3n y Calidad","text":"<p>Cada cambio en la documentaci\u00f3n pasa por:</p> <ul> <li>\u2705 Linting de Markdown: Formato consistente.</li> <li>\u2705 Validaci\u00f3n de Structurizr DSL: Arquitectura v\u00e1lida.</li> <li>\u2705 Link Checker: Sin enlaces rotos.</li> <li>\u2705 Referencias Cruzadas: Trazabilidad garantizada entre ADRs, C4 y Runbooks.</li> </ul> <p>El sitio se despliega autom\u00e1ticamente en GitHub Pages tras cada merge a <code>main</code>.</p> <p>Para Contribuidores: Lee la Gu\u00eda de Contribuci\u00f3n antes de editar la documentaci\u00f3n.</p>"},{"location":"BITACORA/","title":"\ud83d\udccb BIT\u00c1CORA DE CAMBIOS - SISTEMA FINANCIERO AGV","text":"<p>\u00daltima Actualizaci\u00f3n: ${new Date().toLocaleDateString('es-PE')} Proyecto: Finanzas_Agv - Sistema de Gesti\u00f3n Financiera</p>"},{"location":"BITACORA/#noviembre-14-2025-mejoras-en-reportes-de-cuentas-por-cobrar-y-pagar","title":"\ud83d\udcc5 Noviembre 14, 2025 - Mejoras en Reportes de Cuentas por Cobrar y Pagar","text":""},{"location":"BITACORA/#objetivo","title":"\ud83c\udfaf Objetivo","text":"<p>Estandarizar la interfaz de usuario y funcionalidad entre los reportes de Cuenta 12 (CxC) y Cuenta 42 (CxP), mejorando la experiencia del usuario y agregando campos calculados.</p>"},{"location":"BITACORA/#cambios-implementados","title":"\u2705 Cambios Implementados","text":""},{"location":"BITACORA/#1-reporte-cuenta-12-interfaz-simplificada","title":"1. Reporte Cuenta 12 - Interfaz Simplificada \ud83d\udd04","text":"<p>Archivos Modificados: - <code>app/templates/collections/report_account12.html</code> - <code>app/collections/services.py</code></p> <p>Cambios Realizados: - \u2705 Tabla simplificada: Reducida a 11 columnas principales (anteriormente 25)   - Factura   - Cliente   - RUC/DNI   - F. Emisi\u00f3n   - F. Vencimiento   - Moneda   - Monto Total   - Saldo   - D\u00edas Vencido   - Estado   - Antig\u00fcedad</p> <ul> <li>\u2705 Integraci\u00f3n de DataTables: Tabla interactiva con:</li> <li>Paginaci\u00f3n autom\u00e1tica (25 registros por p\u00e1gina)</li> <li>Ordenamiento por columnas</li> <li>B\u00fasqueda integrada</li> <li> <p>Idioma en espa\u00f1ol</p> </li> <li> <p>\u2705 Estad\u00edsticas mejoradas:</p> </li> <li>Total Registros</li> <li>Monto Total</li> <li>Saldo Pendiente</li> <li> <p>Deuda Vencida (nuevo)</p> </li> <li> <p>\u2705 Campos calculados agregados al backend:</p> </li> <li><code>dias_vencido</code>: D\u00edas transcurridos desde vencimiento</li> <li><code>estado_deuda</code>: VIGENTE o VENCIDO</li> <li> <p><code>antiguedad</code>: Clasificaci\u00f3n por rangos (Vigente, Atraso Corto, Medio, Prolongado, Cobranza Judicial)</p> </li> <li> <p>\u2705 Estilos visuales mejorados:</p> </li> <li>D\u00edas vencidos en rojo y negrita cuando &gt; 0</li> <li>Badges de colores para estados (verde: VIGENTE, rojo: VENCIDO)</li> <li>Formato de moneda consistente</li> </ul> <p>C\u00f3digo Clave - C\u00e1lculo de Campos: <pre><code># En collections/services.py\ndias_vencido = calcular_dias_vencido(date_maturity, today)\nantiguedad = clasificar_antiguedad(max(0, dias_vencido))\nestado_deuda = 'VENCIDO' if dias_vencido &gt; 0 else 'VIGENTE'\n</code></pre></p>"},{"location":"BITACORA/#2-resaltado-de-usuario-en-header","title":"2. Resaltado de Usuario en Header \u2b50","text":"<p>Archivo Modificado: - <code>app/templates/base.html</code></p> <p>Cambios Realizados: - \u2705 Clase CSS <code>.user-highlight</code> creada con:   - Degradado dorado (<code>#ffd700</code> \u2192 <code>#ffed4e</code>)   - Bordes redondeados (20px)   - Sombra sutil con efecto hover   - Transici\u00f3n suave al pasar el mouse   - Efecto de elevaci\u00f3n en hover</p> <p>C\u00f3digo Clave - CSS: <pre><code>.user-highlight {\n    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);\n    padding: 4px 12px;\n    border-radius: 20px;\n    color: #2c3e50;\n    font-weight: 600;\n    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);\n    transition: all 0.3s ease;\n}\n</code></pre></p> <p>Impacto: - El nombre de usuario ahora es claramente visible y destacado - Mejora la experiencia de usuario al identificar qui\u00e9n est\u00e1 logueado - Dise\u00f1o elegante y profesional</p>"},{"location":"BITACORA/#3-filtros-dinamicos-en-cuenta-12","title":"3. Filtros Din\u00e1micos en Cuenta 12 \ud83d\udd0d","text":"<p>Archivos Involucrados: - <code>app/templates/collections/report_account12.html</code> - <code>app/collections/routes.py</code> - <code>app/collections/services.py</code></p> <p>Nuevos Filtros Agregados: - \u2705 Canal de Venta (dropdown din\u00e1mico desde Odoo) - \u2705 Tipo de Documento (dropdown din\u00e1mico desde Odoo)</p> <p>Endpoint Nuevo: <pre><code>GET /api/v1/collections/filter-options\n</code></pre></p> <p>Funcionalidad: - Carga autom\u00e1tica de opciones desde Odoo al iniciar la p\u00e1gina - Filtros aplicados en tiempo real - Integraci\u00f3n con exportaci\u00f3n a Excel</p>"},{"location":"BITACORA/#4-exportacion-a-excel-mejorada","title":"4. Exportaci\u00f3n a Excel Mejorada \ud83d\udcca","text":"<p>Archivos Modificados: - <code>app/exports/routes.py</code> - <code>app/exports/excel_service.py</code></p> <p>Mejoras: - \u2705 Incluye TODOS los 25 campos del reporte - \u2705 Formato profesional con:   - Colores de encabezado (azul oscuro)   - Bordes en todas las celdas   - Anchos de columna optimizados   - Formato de moneda autom\u00e1tico   - Formato de fecha consistente   - Filtros autom\u00e1ticos habilitados   - Congelaci\u00f3n de encabezados</p> <p>Nombre de Archivo: <pre><code>reporte_cxc_general_[fecha_desde]_[fecha_hasta]_[timestamp].xlsx\n</code></pre></p>"},{"location":"BITACORA/#estadisticas-de-cambios","title":"\ud83d\udcca Estad\u00edsticas de Cambios","text":"M\u00e9trica Valor Archivos modificados 6 L\u00edneas de c\u00f3digo agregadas ~250 Nuevos endpoints API 1 Nuevos campos calculados 3 Mejoras visuales 5"},{"location":"BITACORA/#pruebas-realizadas","title":"\ud83e\uddea Pruebas Realizadas","text":""},{"location":"BITACORA/#pruebas-de-funcionalidad","title":"\u2705 Pruebas de Funcionalidad","text":"<ul> <li>[x] Carga de reporte Cuenta 12</li> <li>[x] Aplicaci\u00f3n de filtros (fecha, cliente, canal, tipo doc)</li> <li>[x] C\u00e1lculo correcto de d\u00edas vencidos</li> <li>[x] Clasificaci\u00f3n de antig\u00fcedad</li> <li>[x] Exportaci\u00f3n a Excel con todos los filtros</li> <li>[x] Visualizaci\u00f3n de estad\u00edsticas</li> <li>[x] Ordenamiento de tabla</li> <li>[x] Paginaci\u00f3n de DataTables</li> </ul>"},{"location":"BITACORA/#pruebas-de-interfaz","title":"\u2705 Pruebas de Interfaz","text":"<ul> <li>[x] Resaltado de usuario visible</li> <li>[x] Badges de estado con colores correctos</li> <li>[x] D\u00edas vencidos en rojo cuando &gt; 0</li> <li>[x] Tabla responsive</li> <li>[x] Dropdowns de filtros poblados</li> </ul>"},{"location":"BITACORA/#documentacion-tecnica","title":"\ud83d\udcda Documentaci\u00f3n T\u00e9cnica","text":""},{"location":"BITACORA/#estructura-de-datos-reporte-cxc","title":"Estructura de Datos - Reporte CxC","text":"<p>Campos Principales (11 visibles en tabla): <pre><code>{\n    'move_name': str,           # N\u00famero de factura\n    'patner_id': str,           # Nombre del cliente\n    'patner_id/vat': str,       # RUC/DNI\n    'invoice_date': str,        # Fecha de emisi\u00f3n\n    'date_maturity': str,       # Fecha de vencimiento\n    'currency_id': str,         # Moneda\n    'amount_currency': float,   # Monto total\n    'amount_residual_with_retention': float,  # Saldo\n    'dias_vencido': int,        # D\u00edas vencido (calculado)\n    'estado_deuda': str,        # VIGENTE/VENCIDO (calculado)\n    'antiguedad': str           # Rango de antig\u00fcedad (calculado)\n}\n</code></pre></p> <p>Campos Completos (25 para exportaci\u00f3n): - Incluye adem\u00e1s: Tipo documento, Origen, Cuenta, Nombre cuenta, Referencia, Condici\u00f3n pago, Descripci\u00f3n, Vendedor, Provincia, Distrito, Pa\u00eds, Grupos, Sub Canal, Canal de Venta, Tipo de Venta</p>"},{"location":"BITACORA/#calculo-de-antiguedad","title":"C\u00e1lculo de Antig\u00fcedad","text":"<p>Rangos Definidos: <pre><code>- Vigente: d\u00edas_vencido &lt;= 0\n- Atraso Corto (1-30): 1 &lt;= d\u00edas_vencido &lt;= 30\n- Atraso Medio (31-60): 31 &lt;= d\u00edas_vencido &lt;= 60\n- Atraso Prolongado (61-90): 61 &lt;= d\u00edas_vencido &lt;= 90\n- Cobranza Judicial (+90): d\u00edas_vencido &gt; 90\n</code></pre></p>"},{"location":"BITACORA/#configuracion-tecnica","title":"\ud83d\udd27 Configuraci\u00f3n T\u00e9cnica","text":""},{"location":"BITACORA/#dependencias-javascript","title":"Dependencias JavaScript","text":"<pre><code>&lt;!-- DataTables --&gt;\n&lt;script src=\"https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css\"&gt;\n</code></pre>"},{"location":"BITACORA/#configuracion-datatables","title":"Configuraci\u00f3n DataTables","text":"<pre><code>$('#reportTable').DataTable({\n    pageLength: 25,\n    order: [[8, 'desc']],  // Ordenar por d\u00edas vencido\n    dom: 'Bfrtip',\n    buttons: [],\n    language: {\n        url: '//cdn.datatables.net/plug-ins/1.13.7/i18n/es-ES.json'\n    }\n});\n</code></pre>"},{"location":"BITACORA/#noviembre-14-2025-tarde-expansion-de-cuenta-42-y-mejoras-excel","title":"\ud83d\udcc5 Noviembre 14, 2025 (Tarde) - Expansi\u00f3n de Cuenta 42 y Mejoras Excel","text":""},{"location":"BITACORA/#objetivo_1","title":"\ud83c\udfaf Objetivo","text":"<p>Expandir el reporte de Cuenta 42 (CxP) con m\u00e1s campos de Odoo y mejorar el formato de exportaci\u00f3n a Excel con formatos condicionales.</p>"},{"location":"BITACORA/#cambios-implementados_1","title":"\u2705 Cambios Implementados","text":""},{"location":"BITACORA/#5-reporte-cuenta-42-campos-expandidos","title":"5. Reporte Cuenta 42 - Campos Expandidos \ud83d\udcc8","text":"<p>Archivos Modificados: - <code>app/treasury/services.py</code> - <code>app/exports/excel_service.py</code></p> <p>Campos Agregados (de 11 a 28): - <code>move_type</code>: Tipo de movimiento - <code>state</code>: Estado de la factura - <code>l10n_latam_document_type_id</code>: Tipo de documento LATAM - <code>narration</code>: Notas/comentarios - <code>fiscal_position_id</code>: Posici\u00f3n fiscal - <code>invoice_incoterm_id</code>: T\u00e9rminos de comercio - <code>company_id</code>: Empresa - <code>supplier_rank</code>: Ranking del proveedor - <code>reconciled</code>: Si est\u00e1 conciliado - <code>blocked</code>: Si est\u00e1 bloqueado - <code>full_reconcile_id</code>: ID de conciliaci\u00f3n completa</p> <p>Campos Expandidos en Proveedor: - Ciudad, tel\u00e9fono, email (adem\u00e1s de los existentes)</p> <p>Exportaci\u00f3n Excel Mejorada: - \u2705 28 columnas en lugar de 11 - \u2705 Formato condicional para d\u00edas vencidos (rojo si &gt; 0) - \u2705 Color de fondo para estados (rojo: VENCIDO, verde: VIGENTE) - \u2705 Anchos de columna optimizados - \u2705 Alineaci\u00f3n seg\u00fan tipo de dato</p>"},{"location":"BITACORA/#6-exportacion-excel-con-formatos-condicionales","title":"6. Exportaci\u00f3n Excel con Formatos Condicionales \ud83c\udfa8","text":"<p>Formatos Implementados:</p> <p>Para Cuenta 12 (CxC): <pre><code># D\u00edas vencidos &gt; 0: rojo y negrita\nif dias_vencido &gt; 0:\n    cell.font = Font(color=\"FF0000\", bold=True)\n\n# Estado VENCIDO: fondo rojo claro\nif estado == 'VENCIDO':\n    cell.fill = PatternFill(start_color=\"FFCCCC\", ...)\n# Estado VIGENTE: fondo verde claro\nelse:\n    cell.fill = PatternFill(start_color=\"CCFFCC\", ...)\n</code></pre></p> <p>Aplicado Tambi\u00e9n a Cuenta 42 (CxP): - Mismos formatos condicionales - Resalta visualmente las deudas vencidas - Facilita identificaci\u00f3n r\u00e1pida de problemas</p>"},{"location":"BITACORA/#proximas-mejoras-sugeridas","title":"\ud83d\ude80 Pr\u00f3ximas Mejoras Sugeridas","text":""},{"location":"BITACORA/#cuenta-12-cxc","title":"Cuenta 12 (CxC)","text":"<ul> <li>[ ] Gr\u00e1ficos de pastel por antig\u00fcedad</li> <li>[ ] Exportaci\u00f3n a PDF</li> <li>[ ] Filtro por vendedor espec\u00edfico</li> <li>[ ] Dashboard resumen con KPIs</li> </ul>"},{"location":"BITACORA/#cuenta-42-cxp","title":"Cuenta 42 (CxP)","text":"<ul> <li>[x] Expandir campos como en Cuenta 12 (28 campos) \u2705</li> <li>[ ] Agregar filtros din\u00e1micos (tipo documento, etc.)</li> <li>[ ] C\u00e1lculo de mora e intereses</li> <li>[ ] Proyecci\u00f3n de flujo de caja</li> </ul>"},{"location":"BITACORA/#general","title":"General","text":"<ul> <li>[ ] Sistema de notificaciones para facturas pr\u00f3ximas a vencer</li> <li>[ ] Alertas autom\u00e1ticas para deudas vencidas</li> <li>[ ] Integraci\u00f3n con email para env\u00edo de reportes</li> <li>[ ] API REST completa documentada con Swagger</li> <li>[ ] Tests unitarios automatizados</li> </ul>"},{"location":"BITACORA/#contacto-y-soporte","title":"\ud83d\udcde Contacto y Soporte","text":"<p>Desarrollado por: Equipo Finanzas AGV Repositorio: <code>GitHub Proyectos_AGV/Finanzas_Agv</code> Versi\u00f3n: 1.2.0  </p>"},{"location":"BITACORA/#notas-de-desarrollo","title":"\ud83d\udcdd Notas de Desarrollo","text":""},{"location":"BITACORA/#lecciones-aprendidas","title":"Lecciones Aprendidas","text":"<ol> <li>DataTables mejora significativamente la UX: La paginaci\u00f3n y b\u00fasqueda integrada facilitan el trabajo con grandes vol\u00famenes de datos.</li> <li>Campos calculados en backend son preferibles: Evita l\u00f3gica duplicada en frontend y exportaci\u00f3n.</li> <li>Estilos consistentes crean cohesi\u00f3n visual: El uso del mismo dise\u00f1o entre reportes mejora la adopci\u00f3n del usuario.</li> </ol>"},{"location":"BITACORA/#decisiones-tecnicas","title":"Decisiones T\u00e9cnicas","text":"<ul> <li>Por qu\u00e9 11 columnas en lugar de 25: Facilita la visualizaci\u00f3n sin scroll horizontal excesivo. Los 25 campos se mantienen para exportaci\u00f3n.</li> <li>Por qu\u00e9 DataTables: Librer\u00eda madura, bien documentada, y con excelente soporte para espa\u00f1ol.</li> <li>Por qu\u00e9 campos calculados en backend: Garantiza consistencia entre vista y exportaci\u00f3n, reduce carga del cliente.</li> </ul>"},{"location":"BITACORA/#historial-de-versiones","title":"\ud83d\udcdc Historial de Versiones","text":""},{"location":"BITACORA/#v120-noviembre-14-2025","title":"v1.2.0 - Noviembre 14, 2025","text":"<ul> <li>Interfaz simplificada para Cuenta 12</li> <li>Resaltado de usuario</li> <li>Campos calculados (d\u00edas vencido, antig\u00fcedad, estado)</li> <li>DataTables integrado</li> <li>Filtros din\u00e1micos</li> </ul>"},{"location":"BITACORA/#v110-noviembre-13-2025","title":"v1.1.0 - Noviembre 13, 2025","text":"<ul> <li>Implementaci\u00f3n inicial de Cuenta 12</li> <li>25 campos completos</li> <li>Exportaci\u00f3n a Excel</li> <li>Filtros b\u00e1sicos</li> </ul>"},{"location":"BITACORA/#v100-octubre-2025","title":"v1.0.0 - Octubre 2025","text":"<ul> <li>Sistema base</li> <li>Login y autenticaci\u00f3n</li> <li>M\u00f3dulos de Cobranzas y Tesorer\u00eda</li> <li>Integraci\u00f3n con Odoo</li> </ul>"},{"location":"BITACORA/#noviembre-14-2025-noche-correcciones-ux-y-errores-criticos","title":"\ud83d\udcc5 Noviembre 14, 2025 (Noche) - Correcciones UX y Errores Cr\u00edticos","text":""},{"location":"BITACORA/#objetivo_2","title":"\ud83c\udfaf Objetivo","text":"<p>Resolver problemas de UX en la interfaz (sidebar separado, scroll excesivo) y corregir error cr\u00edtico en exportaci\u00f3n a Excel.</p>"},{"location":"BITACORA/#problemas-identificados","title":"\ud83d\udc1b Problemas Identificados","text":"<ol> <li>\u274c Sidebar se separaba del navbar - Posicionamiento incorrecto</li> <li>\u274c P\u00e1gina muy ancha - Scroll horizontal excesivo</li> <li>\u274c Error Excel: <code>No se puede convertir [1322, 'Villa el Salvador'] a Excel</code></li> <li>\u274c Navegaci\u00f3n poco visible - Elementos fuera de vista en pantallas peque\u00f1as</li> </ol>"},{"location":"BITACORA/#soluciones-implementadas","title":"\u2705 Soluciones Implementadas","text":""},{"location":"BITACORA/#7-sidebar-responsivo-corregido","title":"7. Sidebar Responsivo Corregido \ud83d\udcf1","text":"<p>Archivo Modificado: <code>app/templates/base.html</code></p> <p>Cambios Aplicados: <pre><code>.sidebar {\n    position: fixed;\n    left: 0;\n    top: 0;  /* Cambiado de top: 56px */\n    padding-top: 56px;  /* Espacio para navbar */\n    z-index: 999;  /* Debajo del navbar */\n    min-height: 100vh;  /* Altura completa */\n}\n\n.navbar {\n    position: fixed;\n    top: 0;\n    z-index: 1000;  /* Encima del sidebar */\n}\n\nbody {\n    padding-top: 56px;  /* Espacio para navbar fijo */\n}\n</code></pre></p> <p>Responsive: <pre><code>@media (max-width: 768px) {\n    .sidebar {\n        width: 0;  /* Oculto por defecto */\n    }\n    .main-content-with-sidebar {\n        margin-left: 0 !important;\n    }\n}\n</code></pre></p>"},{"location":"BITACORA/#8-pagina-optimizada-sin-scroll-excesivo","title":"8. P\u00e1gina Optimizada - Sin Scroll Excesivo \ud83d\udccf","text":"<p>Cambios Aplicados: <pre><code>.main-content-with-sidebar {\n    margin-left: 60px;\n    padding: 20px;\n    max-width: 100%;\n    overflow-x: auto;\n}\n\n.container-fluid {\n    max-width: 1920px;  /* Limitar ancho m\u00e1ximo */\n    margin: 0 auto;\n}\n</code></pre></p> <p>Tabla Compacta: - Fuente reducida: <code>0.85rem</code> (antes 13px) - Padding optimizado: <code>6px 8px</code> (antes 10px 8px) - Scroll vertical contenido: <code>max-height: 65vh</code> - DataTables con <code>scrollX: true</code> para mejor manejo</p> <p>Filtros Mejorados: - Display flex con <code>flex-wrap</code> - Gap de 10px entre elementos - Min-width: 150px por filtro - 100% width en m\u00f3viles</p>"},{"location":"BITACORA/#9-error-excel-corregido","title":"9. Error Excel Corregido \u2705","text":"<p>Archivo Modificado: <code>app/exports/excel_service.py</code></p> <p>Problema: <pre><code># Odoo retorna campos Many2One como: [1322, 'Villa el Salvador']\n# Excel no puede escribir listas directamente\n</code></pre></p> <p>Soluci\u00f3n Implementada: <pre><code># Convertir valores Many2One (listas) a string\nif isinstance(value, (list, tuple)) and len(value) &gt;= 2:\n    value = str(value[1])  # Extraer el nombre\nelif isinstance(value, (list, tuple)):\n    value = str(value[0]) if value else ''\n\n# Convertir None a cadena vac\u00eda\nif value is None:\n    value = ''\n</code></pre></p> <p>Aplicado a: - \u2705 <code>export_collections_report()</code> (Cuenta 12) - \u2705 <code>export_treasury_report()</code> (Cuenta 42)</p> <p>Resultado: - Ya no falla con campos Many2One - Extrae autom\u00e1ticamente el nombre legible - Maneja casos edge (None, listas vac\u00edas)</p>"},{"location":"BITACORA/#10-datatables-mejorado","title":"10. DataTables Mejorado \ud83d\udcca","text":"<p>Configuraci\u00f3n Avanzada: <pre><code>$('#reportTable').DataTable({\n    pageLength: 25,\n    order: [[8, 'desc']],\n    responsive: true,\n    scrollX: true,  // Scroll horizontal suave\n    scrollCollapse: true,\n    fixedHeader: true,  // Header fijo al scroll\n    columnDefs: [\n        { targets: [6, 7], className: 'text-end' },\n        { targets: [8], className: 'text-center' },\n        { targets: [9, 10], className: 'text-center' }\n    ]\n});\n</code></pre></p> <p>Mejoras: - Header fijo al hacer scroll - Scroll horizontal suave - Columnas colapsables en m\u00f3vil - Alineaci\u00f3n autom\u00e1tica por tipo</p>"},{"location":"BITACORA/#estadisticas-de-correcciones","title":"\ud83d\udcca Estad\u00edsticas de Correcciones","text":"Problema Estado Impacto Sidebar separado \u2705 Corregido Alto - Afectaba navegaci\u00f3n Scroll excesivo \u2705 Corregido Alto - UX pobre Error Excel \u2705 Corregido Cr\u00edtico - Bloqueaba exportaci\u00f3n Navegaci\u00f3n m\u00f3vil \u2705 Mejorado Medio - Responsive completo"},{"location":"BITACORA/#pruebas-realizadas_1","title":"\ud83e\uddea Pruebas Realizadas","text":"<ul> <li>[x] Sidebar no se separa del navbar</li> <li>[x] Navbar fijo al hacer scroll</li> <li>[x] P\u00e1gina no requiere scroll horizontal excesivo</li> <li>[x] Exportaci\u00f3n Excel funciona sin errores</li> <li>[x] Campos Many2One se convierten correctamente</li> <li>[x] DataTables scrollable horizontalmente</li> <li>[x] Responsive en m\u00f3viles (&lt; 768px)</li> <li>[x] Filtros se adaptan a pantallas peque\u00f1as</li> </ul>"},{"location":"BITACORA/#mejoras-ux-implementadas","title":"\ud83c\udfa8 Mejoras UX Implementadas","text":"<ol> <li>\u2705 Navegaci\u00f3n fija: Navbar y sidebar siempre visibles</li> <li>\u2705 Contenido centrado: Max-width 1920px</li> <li>\u2705 Tabla compacta: Fuentes m\u00e1s peque\u00f1as, mejor densidad</li> <li>\u2705 Scroll inteligente: Vertical en tabla, horizontal suave</li> <li>\u2705 Responsive completo: Adaptaci\u00f3n a m\u00f3viles</li> <li>\u2705 DataTables avanzado: Fixed header, scroll collapse</li> </ol>"},{"location":"BITACORA/#lecciones-aprendidas_1","title":"\ud83d\udca1 Lecciones Aprendidas","text":"<ol> <li>Z-index correcto es crucial: Navbar (1000) &gt; Sidebar (999)</li> <li>Posicionamiento fixed: Requiere padding-top en body</li> <li>Many2One de Odoo: Siempre validar formato antes de exportar</li> <li>DataTables: <code>scrollX: true</code> + <code>responsive: true</code> = mejor UX</li> <li>Max-width en contenedores: Evita p\u00e1ginas excesivamente anchas</li> </ol>"},{"location":"BITACORA/#codigo-clave","title":"\ud83d\udd27 C\u00f3digo Clave","text":"<p>Conversi\u00f3n Many2One Segura: <pre><code>def safe_convert_m2o(value):\n    \"\"\"Convierte campos Many2One a string de forma segura.\"\"\"\n    if isinstance(value, (list, tuple)) and len(value) &gt;= 2:\n        return str(value[1])  # Nombre\n    elif isinstance(value, (list, tuple)) and value:\n        return str(value[0])  # ID\n    return ''  # Vac\u00edo si None o lista vac\u00eda\n</code></pre></p>"},{"location":"BITACORA/#noviembre-14-2025-final-mejora-visual-del-usuario","title":"\ud83d\udcc5 Noviembre 14, 2025 (Final) - Mejora Visual del Usuario","text":""},{"location":"BITACORA/#objetivo_3","title":"\ud83c\udfaf Objetivo","text":"<p>Mejorar la visualizaci\u00f3n del usuario en el navbar para que sea m\u00e1s elegante, combine con la paleta de colores y no genere ruido visual.</p>"},{"location":"BITACORA/#problema-identificado","title":"\ud83d\udc1b Problema Identificado","text":"<p>El usuario destacado con degradado dorado generaba ruido visual excesivo: - \u274c Colores muy llamativos (dorado brillante) - \u274c No segu\u00eda la paleta corporativa (#714B67) - \u274c Distra\u00eda del contenido principal</p>"},{"location":"BITACORA/#solucion-implementada","title":"\u2705 Soluci\u00f3n Implementada","text":""},{"location":"BITACORA/#11-usuario-elegante-y-discreto","title":"11. Usuario Elegante y Discreto \ud83c\udfa8","text":"<p>Archivos Modificados: - <code>app/templates/base.html</code> - <code>app/web/routes.py</code></p> <p>Cambios en Dise\u00f1o:</p> <p>Antes (Dorado llamativo): <pre><code>.user-highlight {\n    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);\n    color: #2c3e50;\n    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);\n}\n</code></pre></p> <p>Despu\u00e9s (Sutil y elegante): <pre><code>.user-highlight {\n    background: rgba(255, 255, 255, 0.15);  /* Transl\u00facido */\n    color: #ffffff;                          /* Blanco */\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);             /* Efecto glassmorphism */\n}\n</code></pre></p> <p>Caracter\u00edsticas: - \u2705 Transl\u00facido: Se integra con el navbar - \u2705 Glassmorphism: Efecto moderno de vidrio esmerilado - \u2705 Hover suave: Transici\u00f3n elegante - \u2705 Paleta coherente: Combina con #714B67</p>"},{"location":"BITACORA/#12-dropdown-de-usuario-premium","title":"12. Dropdown de Usuario Premium \ud83d\udc8e","text":"<p>Nuevo Dise\u00f1o del Dropdown:</p> <p>Header del Dropdown: <pre><code>.user-dropdown .dropdown-header {\n    background: linear-gradient(135deg, #714B67 0%, #875A7B 100%);\n    /* Usa los colores corporativos */\n}\n</code></pre></p> <p>Contenido: - \u2705 \u00cdcono grande del usuario (2.5rem) - \u2705 Nombre en negrita - \u2705 Email del usuario (nuevo) - \u2705 Separador visual - \u2705 Bot\u00f3n \"Cerrar Sesi\u00f3n\" con hover effect</p> <p>Estructura HTML: <pre><code>&lt;div class=\"user-info-dropdown\"&gt;\n    &lt;i class=\"bi bi-person-circle\"&gt;&lt;/i&gt;\n    &lt;div class=\"user-details\"&gt;\n        &lt;strong&gt;{{ session.username }}&lt;/strong&gt;\n        &lt;small&gt;{{ session.email }}&lt;/small&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre></p> <p>Estilos Clave: - Min-width: 280px - Border-radius: 12px (esquinas redondeadas) - Box-shadow: Sombra suave - Hover en items: Padding animado</p>"},{"location":"BITACORA/#13-email-del-usuario-implementado","title":"13. Email del Usuario Implementado \ud83d\udce7","text":"<p>Backend Update: <pre><code># En app/web/routes.py\nsession['email'] = f\"{username.lower().replace(' ', '.')}@agrovet.com.pe\"\n</code></pre></p> <p>Formato de Email Generado: - Usuario: \"Juan P\u00e9rez\" \u2192 Email: \"juan.p\u00e9rez@agrovet.com.pe\" - Usuario: \"admin\" \u2192 Email: \"admin@agrovet.com.pe\"</p> <p>Ubicaci\u00f3n en UI: - Visible solo en el dropdown (al hacer clic) - Color gris suave (text-muted) - Tama\u00f1o peque\u00f1o (0.85rem) - No genera ruido visual</p>"},{"location":"BITACORA/#comparacion-visual","title":"\ud83c\udfa8 Comparaci\u00f3n Visual","text":""},{"location":"BITACORA/#antes","title":"Antes:","text":"<pre><code>[\ud83d\udfe1 USUARIO DORADO BRILLANTE \ud83d\udfe1] \u2190 Muy llamativo\n</code></pre>"},{"location":"BITACORA/#despues","title":"Despu\u00e9s:","text":"<pre><code>\ud83d\udc64 [ Usuario ] \u2190 Sutil y elegante\n    \u2193 (click)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udc64 Usuario              \u2502 \u2190 Header con color corporativo\n\u2502    usuario@agrovet.pe   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u2192 Cerrar Sesi\u00f3n         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"BITACORA/#mejoras-en-paleta-de-colores","title":"\ud83d\udcca Mejoras en Paleta de Colores","text":"<p>Navbar: - Color principal: <code>#714B67</code> (P\u00farpura corporativo) - Usuario: <code>rgba(255, 255, 255, 0.15)</code> (Transl\u00facido) - Texto: <code>#ffffff</code> (Blanco)</p> <p>Dropdown: - Header: <code>linear-gradient(135deg, #714B67, #875A7B)</code> - Fondo: <code>#ffffff</code> - Hover: <code>#f8f9fa</code> \u2192 <code>#714B67</code></p> <p>Coherencia Total: \u2705 Todos los elementos usan la paleta corporativa \u2705 No hay colores que desentonen \u2705 Jerarqu\u00eda visual clara</p>"},{"location":"BITACORA/#pruebas-ux","title":"\ud83e\uddea Pruebas UX","text":"<ul> <li>[x] Usuario visible pero no distractivo \u2705</li> <li>[x] Dropdown se abre correctamente \u2705</li> <li>[x] Email se muestra en formato elegante \u2705</li> <li>[x] Hover effects funcionan suavemente \u2705</li> <li>[x] Responsive en m\u00f3viles \u2705</li> <li>[x] Paleta de colores coherente \u2705</li> <li>[x] Glassmorphism funciona en navegadores modernos \u2705</li> </ul>"},{"location":"BITACORA/#decisiones-de-diseno","title":"\ud83d\udca1 Decisiones de Dise\u00f1o","text":"<ol> <li>Por qu\u00e9 glassmorphism:</li> <li>Tendencia moderna de dise\u00f1o</li> <li>Se integra naturalmente con el navbar</li> <li> <p>Efecto premium sin ser intrusivo</p> </li> <li> <p>Por qu\u00e9 el email solo en dropdown:</p> </li> <li>Evita cluttering en navbar</li> <li>Disponible cuando se necesita</li> <li> <p>No genera ruido visual constante</p> </li> <li> <p>Por qu\u00e9 transl\u00facido en lugar de dorado:</p> </li> <li>Dorado es muy llamativo para uso corporativo</li> <li>Transl\u00facido es elegante y profesional</li> <li>Mejor para uso prolongado (menos cansancio visual)</li> </ol>"},{"location":"BITACORA/#codigo-destacado","title":"\ud83d\udd27 C\u00f3digo Destacado","text":"<p>Efecto Glassmorphism: <pre><code>.user-highlight {\n    background: rgba(255, 255, 255, 0.15);\n    backdrop-filter: blur(10px);  /* Clave para efecto vidrio */\n    border: 1px solid rgba(255, 255, 255, 0.3);\n}\n</code></pre></p> <p>Hover Animado en Dropdown: <pre><code>.user-dropdown .dropdown-item:hover {\n    background-color: #f8f9fa;\n    color: #714B67;\n    padding-left: 24px;  /* Se desplaza suavemente */\n}\n</code></pre></p>"},{"location":"BITACORA/#impacto-en-ux","title":"\ud83d\udcc8 Impacto en UX","text":"<p>Antes: - \u26a0\ufe0f Usuario muy visible (distracci\u00f3n) - \u26a0\ufe0f Colores no corporativos - \u26a0\ufe0f Sin informaci\u00f3n de contacto</p> <p>Despu\u00e9s: - \u2705 Usuario discreto pero accesible - \u2705 100% paleta corporativa - \u2705 Email disponible cuando se necesita - \u2705 Efecto premium (glassmorphism) - \u2705 Mejor experiencia prolongada</p>"},{"location":"BITACORA/#resultado-final","title":"\ud83c\udfaf Resultado Final","text":"<p>Interface del Usuario: 1. \u2705 Navbar: Usuario transl\u00facido con efecto glassmorphism 2. \u2705 Dropdown: Card elegante con degradado corporativo 3. \u2705 Email: Visible en dropdown, formato profesional 4. \u2705 Hover: Transiciones suaves y naturales 5. \u2705 Paleta: 100% coherente con colores corporativos</p> <p>Sin Ruido Visual: - Elementos discretos pero accesibles - Jerarqu\u00eda visual clara - Colores armoniosos - Transiciones suaves</p> <p>FIN DE BIT\u00c1CORA - Noviembre 14, 2025</p> <p>Resumen Total del D\u00eda: - \u2705 13 mejoras implementadas - \u2705 4 errores cr\u00edticos corregidos - \u2705 UX completamente optimizada - \u2705 Paleta de colores coherente - \u2705 Sistema responsive completo - \u2705 Documentaci\u00f3n exhaustiva</p>"},{"location":"CAMBIOS_LOGIN/","title":"\ud83c\udfa8 Cambios en Login - Dise\u00f1o Agrovet Market","text":""},{"location":"CAMBIOS_LOGIN/#cambios-realizados","title":"\u2705 Cambios Realizados","text":""},{"location":"CAMBIOS_LOGIN/#1-nuevo-diseno-de-login","title":"1. Nuevo Dise\u00f1o de Login","text":"<ul> <li>\u2705 Dise\u00f1o basado en Agrovet Market (dashboard-ventas)</li> <li>\u2705 Card centrada con sombras suaves</li> <li>\u2705 Iconos en inputs (Bootstrap Icons)</li> <li>\u2705 Bordes redondeados modernos</li> <li>\u2705 Fondo degradado (radial gradient p\u00farpura)</li> </ul>"},{"location":"CAMBIOS_LOGIN/#2-colores-actualizados-paleta-odooagrovet","title":"2. Colores Actualizados (Paleta Odoo/Agrovet)","text":"<ul> <li>Color Principal: <code>#714B67</code> (p\u00farpura Odoo)</li> <li>Color Secundario: <code>#875A7B</code> (p\u00farpura claro)</li> <li>Color Hover: <code>#5a3a52</code> (p\u00farpura oscuro)</li> <li>Fondo Degradado: <code>radial-gradient(ellipse at top left, #a99db1 0%, #7b6a7c 100%)</code></li> </ul>"},{"location":"CAMBIOS_LOGIN/#3-logo-de-la-empresa","title":"3. Logo de la Empresa","text":"<ul> <li>\u2705 Espacio para logo preparado</li> <li>\u2705 Tama\u00f1o: 120px de ancho</li> <li>\u2705 Fallback si no existe el logo (no rompe la p\u00e1gina)</li> </ul>"},{"location":"CAMBIOS_LOGIN/#4-mejoras-de-ux","title":"4. Mejoras de UX","text":"<ul> <li>\u2705 Placeholders en inputs</li> <li>\u2705 Transiciones suaves</li> <li>\u2705 Efectos hover en botones</li> <li>\u2705 Mensajes flash estilizados</li> <li>\u2705 Responsive design</li> </ul>"},{"location":"CAMBIOS_LOGIN/#ubicacion-del-logo","title":"\ud83d\udcc1 Ubicaci\u00f3n del Logo","text":""},{"location":"CAMBIOS_LOGIN/#importante-guardar-el-logo-aqui","title":"IMPORTANTE: Guardar el logo aqu\u00ed","text":"<pre><code>Finanzas_Agv/app/static/img/agrovet-market.png\n</code></pre>"},{"location":"CAMBIOS_LOGIN/#ruta-completa-desde-la-raiz-del-proyecto","title":"Ruta completa desde la ra\u00edz del proyecto:","text":"<pre><code>C:\\Users\\jmontero\\Desktop\\GitHub Proyectos_AGV\\Finanzas_Agv\\app\\static\\img\\agrovet-market.png\n</code></pre>"},{"location":"CAMBIOS_LOGIN/#especificaciones-del-logo","title":"Especificaciones del logo:","text":"<ul> <li>Formato: PNG (preferible con fondo transparente)</li> <li>Dimensiones: 300x300 px (o similar, cuadrado)</li> <li>Peso: &lt; 500KB</li> <li>Nombre: <code>agrovet-market.png</code> (exactamente este nombre)</li> </ul>"},{"location":"CAMBIOS_LOGIN/#paleta-de-colores-odoo-implementada","title":"\ud83c\udfa8 Paleta de Colores Odoo Implementada","text":"<pre><code>/* Variables CSS aplicadas en toda la aplicaci\u00f3n */\n--primary-color: #714B67;    /* Color principal Odoo */\n--secondary-color: #875A7B;  /* Color secundario */\n--primary-hover: #5a3a52;    /* Color hover */\n</code></pre>"},{"location":"CAMBIOS_LOGIN/#donde-se-aplican-estos-colores","title":"D\u00f3nde se aplican estos colores:","text":"<ul> <li>\u2705 Navbar superior</li> <li>\u2705 Sidebar (items activos)</li> <li>\u2705 Botones primarios</li> <li>\u2705 Links importantes</li> <li>\u2705 Headers de cards</li> <li>\u2705 Bot\u00f3n de login</li> </ul>"},{"location":"CAMBIOS_LOGIN/#vista-previa-del-login","title":"\ud83d\uddbc\ufe0f Vista Previa del Login","text":""},{"location":"CAMBIOS_LOGIN/#elementos-del-diseno","title":"Elementos del dise\u00f1o:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                     \u2502\n\u2502          [LOGO 120px]              \u2502\n\u2502                                     \u2502\n\u2502       AGROVET MARKET               \u2502\n\u2502   Sistema de Gesti\u00f3n Financiera    \u2502\n\u2502   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      \u2502\n\u2502                                     \u2502\n\u2502   Usuario / Email                  \u2502\n\u2502   [\ud83d\udc64 _________________]           \u2502\n\u2502                                     \u2502\n\u2502   Contrase\u00f1a                       \u2502\n\u2502   [\ud83d\udd12 _________________]           \u2502\n\u2502                                     \u2502\n\u2502   [  Iniciar Sesi\u00f3n  ]             \u2502\n\u2502                                     \u2502\n\u2502   \u00a9 2025 Agrovet Market            \u2502\n\u2502                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"CAMBIOS_LOGIN/#como-probar","title":"\ud83d\ude80 C\u00f3mo Probar","text":"<ol> <li> <p>Ejecutar la aplicaci\u00f3n: <pre><code>python run.py\n</code></pre></p> </li> <li> <p>Abrir navegador: <pre><code>http://localhost:5000/login\n</code></pre></p> </li> <li> <p>Ver el nuevo dise\u00f1o:</p> </li> <li>Fondo degradado p\u00farpura</li> <li>Card centrada elegante</li> <li>Inputs con iconos</li> <li>Bot\u00f3n en color Odoo (#714B67)</li> </ol>"},{"location":"CAMBIOS_LOGIN/#archivos-modificados","title":"\ud83d\udcdd Archivos Modificados","text":"<ol> <li>\u2705 <code>app/templates/login.html</code> - Nuevo dise\u00f1o completo</li> <li>\u2705 <code>app/templates/base.html</code> - Colores Odoo en variables CSS</li> <li>\u2705 <code>app/static/img/</code> - Carpeta creada para logo</li> <li>\u2705 <code>app/static/img/README.md</code> - Instrucciones para logo</li> <li>\u2705 <code>app/static/css/custom.css</code> - Archivo para estilos personalizados</li> </ol>"},{"location":"CAMBIOS_LOGIN/#siguiente-paso","title":"\ud83c\udfaf Siguiente Paso","text":"<p>COPIAR EL LOGO:</p> <ol> <li>Localiza el logo de Agrovet Market (PNG)</li> <li>Ren\u00f3mbralo a: <code>agrovet-market.png</code></li> <li>C\u00f3pialo a: <code>Finanzas_Agv/app/static/img/</code></li> <li>Refresca el navegador (Ctrl + F5)</li> </ol> <p>\u00a1El logo aparecer\u00e1 autom\u00e1ticamente en el login! \ud83c\udf89</p>"},{"location":"CAMBIOS_LOGIN/#caracteristicas-del-nuevo-login","title":"\u2728 Caracter\u00edsticas del Nuevo Login","text":"<ul> <li>\u2705 Dise\u00f1o moderno y profesional</li> <li>\u2705 Colores corporativos Odoo/Agrovet</li> <li>\u2705 Iconos Bootstrap Icons</li> <li>\u2705 Animaciones suaves</li> <li>\u2705 100% responsive</li> <li>\u2705 F\u00e1cil de mantener (CSS inline en template)</li> <li>\u2705 Sin dependencias adicionales</li> </ul> <p>Estado: \u2705 IMPLEMENTADO Y LISTO</p> <p>El login ahora tiene el dise\u00f1o de Agrovet Market con los colores de Odoo.</p>"},{"location":"CONTRIBUTING/","title":"Gu\u00eda para Contribuir a la Documentaci\u00f3n","text":""},{"location":"CONTRIBUTING/#estructura-de-la-documentacion","title":"\ud83d\udcdd Estructura de la Documentaci\u00f3n","text":"<p>Nuestra documentaci\u00f3n sigue el principio Docs as Code y est\u00e1 organizada en:</p> <pre><code>docs/\n\u251c\u2500\u2500 adrs/          # Registros de Decisiones Arquitect\u00f3nicas\n\u251c\u2500\u2500 c4model/       # Modelos de arquitectura (Structurizr DSL)\n\u251c\u2500\u2500 runbooks/      # Procedimientos operacionales\n\u2514\u2500\u2500 *.md           # Documentaci\u00f3n general del proyecto\n</code></pre>"},{"location":"CONTRIBUTING/#como-agregar-un-adr","title":"\u270d\ufe0f C\u00f3mo Agregar un ADR","text":"<ol> <li>Copia la plantilla: <code>docs/adrs/template.md</code></li> <li>Renombra siguiendo el patr\u00f3n: <code>XXXX-nombre-descriptivo.md</code></li> <li>Completa las secciones:</li> <li>Contexto: \u00bfQu\u00e9 problema resolvemos?</li> <li>Decisi\u00f3n: \u00bfQu\u00e9 elegimos y por qu\u00e9?</li> <li>Consecuencias: \u00bfQu\u00e9 impacto tendr\u00e1?</li> </ol>"},{"location":"CONTRIBUTING/#ejemplo-de-adr","title":"Ejemplo de ADR","text":"<pre><code># ADR-002: Adopci\u00f3n de React para Frontend\n\n**Estado:** Propuesto\n**Fecha:** 2025-11-20\n\n## Contexto\nEl frontend actual con Jinja2 tiene problemas de mantenibilidad...\n\n## Decisi\u00f3n\nMigrar a React con Redux Toolkit porque...\n\n## Consecuencias\n- Positivas: Mejor UX, componentes reutilizables\n- Negativas: Curva de aprendizaje inicial\n</code></pre>"},{"location":"CONTRIBUTING/#actualizar-el-modelo-c4","title":"\ud83c\udfd7\ufe0f Actualizar el Modelo C4","text":"<p>El archivo <code>docs/c4model/workspace.dsl</code> define nuestra arquitectura.</p>"},{"location":"CONTRIBUTING/#agregar-un-nuevo-sistema-externo","title":"Agregar un nuevo sistema externo","text":"<pre><code>newSystem = softwareSystem \"Sistema Nuevo\" \"Descripci\u00f3n\" \"External System\"\nfinanceSystem -&gt; newSystem \"Interacci\u00f3n\" \"Protocolo\"\n</code></pre>"},{"location":"CONTRIBUTING/#crear-un-runbook","title":"\ud83d\udd27 Crear un Runbook","text":"<p>Los runbooks son procedimientos paso a paso. Usa este formato:</p> <pre><code># RB-XXX: T\u00edtulo del Procedimiento\n\n## \ud83c\udfaf Objetivo\nQu\u00e9 se logra con este runbook.\n\n## \ud83d\udccb Prerrequisitos\n- [ ] Item 1\n- [ ] Item 2\n\n## \ud83d\udc63 Pasos\n1. Paso detallado...\n2. Comando: `example command`\n\n## \ud83d\udd19 Plan de Rollback\nQu\u00e9 hacer si algo falla.\n</code></pre>"},{"location":"CONTRIBUTING/#cicd-y-validaciones","title":"\ud83e\udd16 CI/CD y Validaciones","text":"<p>Cada Pull Request ejecuta autom\u00e1ticamente:</p> <ol> <li>Lint de Markdown: Verifica formato consistente.</li> <li>Validaci\u00f3n DSL: Asegura que el modelo C4 sea v\u00e1lido.</li> <li>Link Checker: Detecta enlaces rotos.</li> <li>Referencias Cruzadas: Valida trazabilidad entre ADRs, C4 y Runbooks.</li> </ol>"},{"location":"CONTRIBUTING/#errores-comunes","title":"\u26a0\ufe0f Errores Comunes","text":"Error Causa Soluci\u00f3n <code>markdownlint MD013</code> L\u00ednea muy larga Divide en m\u00faltiples l\u00edneas <code>Structurizr validation failed</code> Sintaxis DSL incorrecta Revisa la documentaci\u00f3n oficial <code>Broken link</code> Referencia a archivo inexistente Verifica la ruta relativa"},{"location":"CONTRIBUTING/#vista-previa-local","title":"\ud83d\ude80 Vista Previa Local","text":"<p>Para ver la documentaci\u00f3n antes de hacer commit:</p> <pre><code>mkdocs serve\n</code></pre> <p>Abre <code>http://127.0.0.1:8000</code> en tu navegador.</p>"},{"location":"CONTRIBUTING/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>MkDocs Documentation</li> <li>Material for MkDocs</li> <li>Structurizr DSL</li> <li>ADR Guidelines</li> </ul>"},{"location":"ESTRUCTURA_PROYECTO/","title":"\ud83d\udcc1 Estructura del Proyecto - Finanzas AGV","text":""},{"location":"ESTRUCTURA_PROYECTO/#arbol-de-archivos-completo","title":"\u00c1rbol de Archivos Completo","text":"<pre><code>Finanzas_Agv/\n\u2502\n\u251c\u2500\u2500 \ud83d\udcc4 README.md                         # Documentaci\u00f3n principal\n\u251c\u2500\u2500 \ud83d\udcc4 INSTRUCCIONES_INICIO_RAPIDO.md   # Gu\u00eda de inicio r\u00e1pido\n\u251c\u2500\u2500 \ud83d\udcc4 ESTRUCTURA_PROYECTO.md           # Este archivo\n\u251c\u2500\u2500 \ud83d\udcc4 EJEMPLO_USO.py                   # Script de ejemplo de uso de la API\n\u2502\n\u251c\u2500\u2500 \ud83d\udcc4 config.py                        # Configuraciones (Dev/Prod/Test)\n\u251c\u2500\u2500 \ud83d\udcc4 run.py                           # Punto de entrada de la aplicaci\u00f3n\n\u251c\u2500\u2500 \ud83d\udcc4 requirements.txt                 # Dependencias del proyecto\n\u251c\u2500\u2500 \ud83d\udcc4 .gitignore                       # Archivos ignorados por Git\n\u2502\n\u251c\u2500\u2500 \ud83d\udcc4 .env.desarrollo                  # \u26a0\ufe0f CREAR MANUALMENTE - Variables de desarrollo\n\u251c\u2500\u2500 \ud83d\udcc4 .env.produccion                  # \u26a0\ufe0f CREAR MANUALMENTE - Variables de producci\u00f3n\n\u2502\n\u251c\u2500\u2500 \ud83d\udcc1 venv/                            # Entorno virtual (crear con: python -m venv venv)\n\u2502\n\u2514\u2500\u2500 \ud83d\udcc1 app/                             # C\u00f3digo fuente de la aplicaci\u00f3n\n    \u2502\n    \u251c\u2500\u2500 \ud83d\udcc4 __init__.py                  # Factory pattern (create_app)\n    \u2502\n    \u251c\u2500\u2500 \ud83d\udcc1 core/                        # Componentes core compartidos\n    \u2502   \u251c\u2500\u2500 \ud83d\udcc4 __init__.py\n    \u2502   \u251c\u2500\u2500 \ud83d\udcc4 odoo.py                  # OdooRepository - Conexi\u00f3n a Odoo\n    \u2502   \u2514\u2500\u2500 \ud83d\udcc4 calculators.py           # Funciones de c\u00e1lculo financiero\n    \u2502\n    \u251c\u2500\u2500 \ud83d\udcc1 auth/                        # M\u00f3dulo de Autenticaci\u00f3n\n    \u2502   \u251c\u2500\u2500 \ud83d\udcc4 __init__.py              # Blueprint auth_bp\n    \u2502   \u2514\u2500\u2500 \ud83d\udcc4 routes.py                # Rutas: /api/v1/auth/*\n    \u2502\n    \u251c\u2500\u2500 \ud83d\udcc1 collections/                 # M\u00f3dulo de Cobranzas\n    \u2502   \u251c\u2500\u2500 \ud83d\udcc4 __init__.py              # Blueprint collections_bp\n    \u2502   \u251c\u2500\u2500 \ud83d\udcc4 routes.py                # Rutas: /api/v1/collections/*\n    \u2502   \u2514\u2500\u2500 \ud83d\udcc4 services.py              # CollectionsService - L\u00f3gica de negocio\n    \u2502\n    \u2514\u2500\u2500 \ud83d\udcc1 treasury/                    # M\u00f3dulo de Tesorer\u00eda\n        \u251c\u2500\u2500 \ud83d\udcc4 __init__.py              # Blueprint treasury_bp\n        \u251c\u2500\u2500 \ud83d\udcc4 routes.py                # Rutas: /api/v1/treasury/*\n        \u2514\u2500\u2500 \ud83d\udcc4 services.py              # TreasuryService (placeholder)\n</code></pre>"},{"location":"ESTRUCTURA_PROYECTO/#componentes-por-capa","title":"\ud83d\udcca Componentes por Capa","text":""},{"location":"ESTRUCTURA_PROYECTO/#capa-de-configuracion","title":"Capa de Configuraci\u00f3n","text":"<ul> <li><code>config.py</code> - Clases de configuraci\u00f3n para diferentes entornos</li> <li><code>.env.desarrollo</code> - Variables de entorno para desarrollo</li> <li><code>.env.produccion</code> - Variables de entorno para producci\u00f3n</li> </ul>"},{"location":"ESTRUCTURA_PROYECTO/#capa-de-aplicacion","title":"Capa de Aplicaci\u00f3n","text":"<ul> <li><code>run.py</code> - Inicializaci\u00f3n de la aplicaci\u00f3n</li> <li><code>app/__init__.py</code> - Factory pattern y registro de blueprints</li> </ul>"},{"location":"ESTRUCTURA_PROYECTO/#capa-core-compartida","title":"Capa Core (Compartida)","text":"<ul> <li><code>app/core/odoo.py</code> - Repositorio para acceso a Odoo (Patr\u00f3n Repository)</li> <li><code>app/core/calculators.py</code> - Utilidades para c\u00e1lculos financieros</li> </ul>"},{"location":"ESTRUCTURA_PROYECTO/#capa-de-modulos-blueprints","title":"Capa de M\u00f3dulos (Blueprints)","text":""},{"location":"ESTRUCTURA_PROYECTO/#modulo-auth","title":"\ud83d\udd10 M\u00f3dulo Auth","text":"<pre><code>app/auth/\n\u251c\u2500\u2500 __init__.py    \u2192 Define el Blueprint 'auth_bp'\n\u2514\u2500\u2500 routes.py      \u2192 Endpoints de autenticaci\u00f3n\n                     - POST /api/v1/auth/login\n                     - GET /api/v1/auth/status\n</code></pre>"},{"location":"ESTRUCTURA_PROYECTO/#modulo-collections-cobranzas","title":"\ud83d\udcb0 M\u00f3dulo Collections (Cobranzas)","text":"<pre><code>app/collections/\n\u251c\u2500\u2500 __init__.py    \u2192 Define el Blueprint 'collections_bp'\n\u251c\u2500\u2500 services.py    \u2192 CollectionsService con l\u00f3gica de negocio\n\u2502                    - get_report_lines()\n\u2502                    - get_report_internacional()\n\u2502                    - filter_nacional()\n\u2502                    - filter_internacional()\n\u2514\u2500\u2500 routes.py      \u2192 Endpoints de cobranzas\n                     - GET /api/v1/collections/report/account12\n                     - GET /api/v1/collections/report/national\n                     - GET /api/v1/collections/report/international\n                     - GET /api/v1/collections/status\n</code></pre>"},{"location":"ESTRUCTURA_PROYECTO/#modulo-treasury-tesoreria","title":"\ud83c\udfe6 M\u00f3dulo Treasury (Tesorer\u00eda)","text":"<pre><code>app/treasury/\n\u251c\u2500\u2500 __init__.py    \u2192 Define el Blueprint 'treasury_bp'\n\u251c\u2500\u2500 services.py    \u2192 TreasuryService (placeholder)\n\u2514\u2500\u2500 routes.py      \u2192 Endpoints de tesorer\u00eda\n                     - GET /api/v1/treasury/report/account42\n                     - GET /api/v1/treasury/status\n</code></pre>"},{"location":"ESTRUCTURA_PROYECTO/#flujo-de-datos","title":"\ud83d\udd04 Flujo de Datos","text":"<pre><code>1. Cliente HTTP\n   \u2193\n2. Flask (run.py \u2192 create_app)\n   \u2193\n3. Blueprint Routes (routes.py)\n   \u2193\n4. Service Layer (services.py)\n   \u2193\n5. OdooRepository (odoo.py)\n   \u2193\n6. Odoo (XML-RPC)\n</code></pre>"},{"location":"ESTRUCTURA_PROYECTO/#patrones-de-diseno-utilizados","title":"\ud83c\udfaf Patrones de Dise\u00f1o Utilizados","text":"Patr\u00f3n Archivo Prop\u00f3sito Factory <code>app/__init__.py</code> Crear instancias de app con diferentes configs Blueprint <code>app/*/___init__.py</code> Modularizar la aplicaci\u00f3n Repository <code>app/core/odoo.py</code> Abstraer el acceso a datos de Odoo Service Layer <code>app/*/services.py</code> Separar l\u00f3gica de negocio de rutas"},{"location":"ESTRUCTURA_PROYECTO/#archivos-que-debes-crear-manualmente","title":"\ud83d\udcdd Archivos que Debes Crear Manualmente","text":"<p>\u26a0\ufe0f IMPORTANTE: Estos archivos NO est\u00e1n en el repositorio por seguridad:</p> <ol> <li><code>.env.desarrollo</code> - En la ra\u00edz del proyecto</li> <li><code>.env.produccion</code> - En la ra\u00edz del proyecto</li> <li><code>venv/</code> - Crear con: <code>python -m venv venv</code></li> </ol> <p>Ver <code>INSTRUCCIONES_INICIO_RAPIDO.md</code> para detalles.</p>"},{"location":"ESTRUCTURA_PROYECTO/#archivos-clave","title":"\ud83d\udd11 Archivos Clave","text":"Archivo Descripci\u00f3n L\u00edneas Aprox. <code>config.py</code> Configuraciones de entornos ~100 <code>app/__init__.py</code> Factory y registro de blueprints ~70 <code>app/core/odoo.py</code> Repositorio de Odoo ~180 <code>app/core/calculators.py</code> Funciones de c\u00e1lculo ~180 <code>app/collections/services.py</code> L\u00f3gica de cobranzas ~450 <code>app/collections/routes.py</code> Endpoints de cobranzas ~250"},{"location":"ESTRUCTURA_PROYECTO/#estadisticas-del-proyecto","title":"\ud83d\udcca Estad\u00edsticas del Proyecto","text":"<ul> <li>Total de M\u00f3dulos: 3 (auth, collections, treasury)</li> <li>Total de Endpoints: ~10</li> <li>L\u00edneas de C\u00f3digo: ~1,500+</li> <li>Archivos Python: 15</li> <li>Archivos de Documentaci\u00f3n: 4</li> </ul>"},{"location":"ESTRUCTURA_PROYECTO/#comandos-utiles","title":"\ud83d\ude80 Comandos \u00datiles","text":"<pre><code># Ver estructura de archivos\ntree /F    # Windows\ntree       # Linux/Mac\n\n# Contar l\u00edneas de c\u00f3digo\nfind . -name \"*.py\" | xargs wc -l    # Linux/Mac\n\n# Activar entorno virtual\nvenv\\Scripts\\activate    # Windows\nsource venv/bin/activate # Linux/Mac\n\n# Ejecutar aplicaci\u00f3n\npython run.py                # Desarrollo\npython run.py production     # Producci\u00f3n\n</code></pre>"},{"location":"ESTRUCTURA_PROYECTO/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>Flask Documentation</li> <li>Flask Blueprints</li> <li>Odoo XML-RPC API</li> </ul> <p>\u00daltima actualizaci\u00f3n: Noviembre 2025</p>"},{"location":"INICIO_RAPIDO_COMPLETO/","title":"\ud83d\ude80 INICIO R\u00c1PIDO - Finanzas AGV","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#urgencia-resuelta","title":"\u2705 URGENCIA RESUELTA","text":"<p>Los reportes de Cuenta 12 y Cuenta 42 est\u00e1n 100% FUNCIONALES</p>"},{"location":"INICIO_RAPIDO_COMPLETO/#paso-1-instalar-dependencias","title":"\ud83d\udccb Paso 1: Instalar Dependencias","text":"<pre><code>cd Finanzas_Agv\npip install -r requirements.txt\n</code></pre>"},{"location":"INICIO_RAPIDO_COMPLETO/#paso-2-configurar-variables-de-entorno","title":"\ud83d\udccb Paso 2: Configurar Variables de Entorno","text":"<p>Crear archivo <code>.env.desarrollo</code> en <code>Finanzas_Agv/</code>:</p> <pre><code>SECRET_KEY=mi-clave-secreta-123\nFLASK_ENV=development\nFLASK_DEBUG=True\n\nODOO_URL=https://tu-odoo.odoo.com\nODOO_DB=nombre_base_datos\nODOO_USER=tu_usuario_odoo\nODOO_PASSWORD=tu_contrase\u00f1a_odoo\n</code></pre>"},{"location":"INICIO_RAPIDO_COMPLETO/#paso-3-ejecutar-la-aplicacion","title":"\ud83d\udccb Paso 3: Ejecutar la Aplicaci\u00f3n","text":"<pre><code>python run.py\n</code></pre> <p>Ver\u00e1s algo como:</p> <pre><code>[INFO] Cargando configuraci\u00f3n de desarrollo...\n[OK] Aplicaci\u00f3n creada con configuraci\u00f3n: development\n[OK] Blueprints API registrados: auth, collections, treasury, exports, emails, letters, detractions\n[OK] Blueprint Web (Frontend) registrado\n</code></pre>"},{"location":"INICIO_RAPIDO_COMPLETO/#paso-4-acceder-a-la-aplicacion","title":"\ud83d\udccb Paso 4: Acceder a la Aplicaci\u00f3n","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#opcion-a-interfaz-web-recomendado","title":"Opci\u00f3n A: Interfaz Web (Recomendado)","text":"<ol> <li>Abrir navegador: http://localhost:5000/login</li> <li>Login: Usar cualquier usuario (por ahora es dummy)</li> <li>Dashboard: Ver dashboard principal</li> <li>Reportes:</li> <li>Cuenta 12: http://localhost:5000/collections/report-12</li> <li>Cuenta 42: http://localhost:5000/treasury/report-42</li> </ol>"},{"location":"INICIO_RAPIDO_COMPLETO/#opcion-b-api-rest-para-integraciones","title":"Opci\u00f3n B: API REST (Para integraciones)","text":"<pre><code># Ver informaci\u00f3n de la API\ncurl http://localhost:5000/\n\n# Obtener reporte Cuenta 12\ncurl \"http://localhost:5000/api/v1/collections/report/account12?limit=10\"\n\n# Obtener reporte Cuenta 42\ncurl \"http://localhost:5000/api/v1/treasury/report/account42?limit=10\"\n\n# Exportar a Excel (descarga archivo)\ncurl \"http://localhost:5000/api/v1/exports/collections/excel\" -o reporte.xlsx\n</code></pre>"},{"location":"INICIO_RAPIDO_COMPLETO/#funcionalidades-disponibles-ahora","title":"\ud83c\udfaf Funcionalidades Disponibles AHORA","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#reporte-cuenta-12-cuentas-por-cobrar","title":"\u2705 Reporte Cuenta 12 (Cuentas por Cobrar)","text":"<ul> <li>Ubicaci\u00f3n: Men\u00fa lateral &gt; Cobranzas &gt; Reporte Cuenta 12</li> <li>Filtros disponibles:</li> <li>Fecha desde / hasta</li> <li>Buscar por cliente</li> <li>L\u00edmite de registros</li> <li>Caracter\u00edsticas:</li> <li>Tabla interactiva (ordenar, buscar)</li> <li>Estad\u00edsticas en tiempo real</li> <li>Exportaci\u00f3n a Excel (bot\u00f3n verde)</li> <li>Datos en tiempo real desde Odoo</li> </ul>"},{"location":"INICIO_RAPIDO_COMPLETO/#reporte-cuenta-42-cuentas-por-pagar","title":"\u2705 Reporte Cuenta 42 (Cuentas por Pagar)","text":"<ul> <li>Ubicaci\u00f3n: Men\u00fa lateral &gt; Tesorer\u00eda &gt; Reporte Cuenta 42</li> <li>Filtros disponibles:</li> <li>Fecha desde / hasta</li> <li>Buscar por proveedor</li> <li>L\u00edmite de registros</li> <li>Caracter\u00edsticas:</li> <li>C\u00e1lculo autom\u00e1tico de d\u00edas vencidos</li> <li>Clasificaci\u00f3n de antig\u00fcedad</li> <li>Estado VENCIDO/VIGENTE</li> <li>Estad\u00edsticas de deuda vencida</li> <li>Exportaci\u00f3n a Excel (bot\u00f3n verde)</li> </ul>"},{"location":"INICIO_RAPIDO_COMPLETO/#estructura-de-navegacion","title":"\ud83d\udcca Estructura de Navegaci\u00f3n","text":"<pre><code>Login\n  \u2514\u2500&gt; Dashboard Principal\n       \u251c\u2500&gt; COBRANZAS\n       \u2502    \u251c\u2500&gt; Reporte Cuenta 12        \u2705 FUNCIONAL\n       \u2502    \u251c\u2500&gt; Reporte Nacional         \u23f3 Pr\u00f3ximamente\n       \u2502    \u251c\u2500&gt; Reporte Internacional    \u23f3 Pr\u00f3ximamente\n       \u2502    \u2514\u2500&gt; Dashboard Cobranzas      \u23f3 Pr\u00f3ximamente\n       \u2502\n       \u251c\u2500&gt; TESORER\u00cdA\n       \u2502    \u251c\u2500&gt; Reporte Cuenta 42        \u2705 FUNCIONAL\n       \u2502    \u2514\u2500&gt; Dashboard Tesorer\u00eda      \u23f3 Pr\u00f3ximamente\n       \u2502\n       \u2514\u2500&gt; GESTI\u00d3N\n            \u251c\u2500&gt; Letras por Recuperar     \u23f3 Pr\u00f3ximamente\n            \u2514\u2500&gt; Enviar Detracciones      \u23f3 Pr\u00f3ximamente\n</code></pre>"},{"location":"INICIO_RAPIDO_COMPLETO/#como-usar-los-reportes","title":"\ud83d\udd0d C\u00f3mo Usar los Reportes","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#reporte-cuenta-12-cobranzas","title":"Reporte Cuenta 12 (Cobranzas)","text":"<ol> <li>Acceder: http://localhost:5000/collections/report-12</li> <li>Aplicar Filtros:</li> <li>Seleccionar rango de fechas (opcional)</li> <li>Buscar cliente espec\u00edfico (opcional)</li> <li>Elegir l\u00edmite de registros</li> <li>Click \"Buscar\"</li> <li>Ver Resultados:</li> <li>Estad\u00edsticas arriba: Total, Monto, Saldo, % Cobrado</li> <li>Tabla interactiva con todos los datos</li> <li>Exportar:</li> <li>Click en \"Exportar Excel\" (bot\u00f3n verde)</li> <li>El archivo se descarga autom\u00e1ticamente</li> </ol>"},{"location":"INICIO_RAPIDO_COMPLETO/#reporte-cuenta-42-tesoreria","title":"Reporte Cuenta 42 (Tesorer\u00eda)","text":"<ol> <li>Acceder: http://localhost:5000/treasury/report-42</li> <li>Aplicar Filtros:</li> <li>Seleccionar rango de fechas (opcional)</li> <li>Buscar proveedor espec\u00edfico (opcional)</li> <li>Elegir l\u00edmite de registros</li> <li>Click \"Buscar\"</li> <li>Ver Resultados:</li> <li>Estad\u00edsticas: Total, Monto, Saldo, Deuda Vencida</li> <li>Tabla con d\u00edas vencidos calculados</li> <li>Clasificaci\u00f3n de antig\u00fcedad</li> <li>Exportar:</li> <li>Click en \"Exportar Excel\" (bot\u00f3n verde)</li> </ol>"},{"location":"INICIO_RAPIDO_COMPLETO/#caracteristicas-de-la-interfaz","title":"\ud83c\udfa8 Caracter\u00edsticas de la Interfaz","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#diseno","title":"Dise\u00f1o","text":"<ul> <li>\u2705 Bootstrap 5.3 (moderno y responsive)</li> <li>\u2705 Sidebar colapsable</li> <li>\u2705 Iconos Bootstrap Icons</li> <li>\u2705 Colores corporativos</li> <li>\u2705 Tablas interactivas (DataTables)</li> </ul>"},{"location":"INICIO_RAPIDO_COMPLETO/#funcionalidades","title":"Funcionalidades","text":"<ul> <li>\u2705 B\u00fasqueda en tiempo real en tablas</li> <li>\u2705 Ordenamiento por cualquier columna</li> <li>\u2705 Paginaci\u00f3n autom\u00e1tica</li> <li>\u2705 Exportaci\u00f3n a Excel con formato</li> <li>\u2705 Mensajes flash de \u00e9xito/error</li> <li>\u2705 Loading spinner durante cargas</li> </ul>"},{"location":"INICIO_RAPIDO_COMPLETO/#solucion-de-problemas","title":"\u2753 Soluci\u00f3n de Problemas","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#error-no-se-pudo-conectar-a-odoo","title":"Error: \"No se pudo conectar a Odoo\"","text":"<p>Soluci\u00f3n: Verificar credenciales en <code>.env.desarrollo</code>: - \u00bfLa URL es correcta? - \u00bfEl usuario y contrase\u00f1a son correctos? - \u00bfTienes acceso a Odoo desde tu red?</p>"},{"location":"INICIO_RAPIDO_COMPLETO/#la-tabla-no-muestra-datos","title":"La tabla no muestra datos","text":"<p>Soluci\u00f3n: 1. Abrir consola del navegador (F12) 2. Ver pesta\u00f1a \"Network\" o \"Red\" 3. Verificar respuesta de la API 4. Si hay error 500, revisar consola de Python</p>"},{"location":"INICIO_RAPIDO_COMPLETO/#el-excel-no-se-descarga","title":"El Excel no se descarga","text":"<p>Soluci\u00f3n: - Verificar que openpyxl est\u00e9 instalado: <code>pip install openpyxl</code> - Verificar permisos de descarga del navegador</p>"},{"location":"INICIO_RAPIDO_COMPLETO/#soporte","title":"\ud83d\udcde Soporte","text":""},{"location":"INICIO_RAPIDO_COMPLETO/#archivos-de-documentacion","title":"Archivos de Documentaci\u00f3n","text":"<ul> <li><code>README.md</code> - Documentaci\u00f3n t\u00e9cnica completa</li> <li><code>PROYECTO_COMPLETO.md</code> - Estructura detallada del proyecto</li> <li><code>ESTRUCTURA_PROYECTO.md</code> - Arquitectura y patrones</li> </ul>"},{"location":"INICIO_RAPIDO_COMPLETO/#logs","title":"Logs","text":"<ul> <li>Los logs aparecen en la consola donde ejecutas <code>python run.py</code></li> <li>Busca l\u00edneas con <code>[ERROR]</code> para identificar problemas</li> </ul>"},{"location":"INICIO_RAPIDO_COMPLETO/#proximos-pasos-despues-de-validar","title":"\ud83c\udfaf Pr\u00f3ximos Pasos (Despu\u00e9s de Validar)","text":"<p>Una vez que valides que los reportes 12 y 42 funcionan correctamente:</p> <ol> <li>Prioridad Alta:</li> <li>Implementar env\u00edo de correos de letras</li> <li> <p>Completar dashboards con gr\u00e1ficos</p> </li> <li> <p>Prioridad Media:</p> </li> <li>Reportes Nacional e Internacional</li> <li> <p>Gesti\u00f3n de letras</p> </li> <li> <p>Prioridad Baja:</p> </li> <li>Dashboard interdepartamental</li> <li>Env\u00edo de detracciones</li> </ol>"},{"location":"INICIO_RAPIDO_COMPLETO/#listo","title":"\u2728 \u00a1Listo!","text":"<p>Ahora tienes un sistema funcional para: - \u2705 Consultar Cuentas por Cobrar (Cuenta 12) - \u2705 Consultar Cuentas por Pagar (Cuenta 42) - \u2705 Exportar ambos reportes a Excel - \u2705 Interfaz web profesional y moderna</p> <p>La urgencia est\u00e1 cubierta. Los reportes que pediste est\u00e1n 100% funcionales. \ud83c\udf89</p>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/","title":"\ud83d\ude80 Inicio R\u00e1pido - Finanzas AGV","text":""},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#pasos-para-ejecutar-la-aplicacion","title":"Pasos para Ejecutar la Aplicaci\u00f3n","text":""},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#1-crear-los-archivos-de-variables-de-entorno","title":"1\ufe0f\u20e3 Crear los Archivos de Variables de Entorno","text":"<p>Crea DOS archivos en la carpeta <code>Finanzas_Agv/</code>:</p>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#envdesarrollo","title":"\ud83d\udcc4 <code>.env.desarrollo</code>","text":"<pre><code># Configuraci\u00f3n de desarrollo\nSECRET_KEY=dev-secret-key-change-me\nFLASK_ENV=development\nFLASK_DEBUG=True\n\n# Odoo Connection (REEMPLAZAR CON TUS CREDENCIALES)\nODOO_URL=https://tu-instancia-odoo.com\nODOO_DB=nombre_base_datos\nODOO_USER=tu_usuario\nODOO_PASSWORD=tu_contrase\u00f1a\n</code></pre>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#envproduccion","title":"\ud83d\udcc4 <code>.env.produccion</code>","text":"<pre><code># Configuraci\u00f3n de producci\u00f3n\nSECRET_KEY=production-secret-key-debe-ser-fuerte-y-unica\nFLASK_ENV=production\nFLASK_DEBUG=False\n\n# Odoo Connection de PRODUCCI\u00d3N (REEMPLAZAR CON CREDENCIALES DE PRODUCCI\u00d3N)\nODOO_URL=https://tu-instancia-odoo-produccion.com\nODOO_DB=nombre_base_datos_produccion\nODOO_USER=usuario_produccion\nODOO_PASSWORD=contrase\u00f1a_produccion\n</code></pre>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#2-crear-y-activar-entorno-virtual","title":"2\ufe0f\u20e3 Crear y Activar Entorno Virtual","text":"<p>Windows: <pre><code>cd Finanzas_Agv\npython -m venv venv\nvenv\\Scripts\\activate\n</code></pre></p> <p>Linux/Mac: <pre><code>cd Finanzas_Agv\npython -m venv venv\nsource venv/bin/activate\n</code></pre></p>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#3-instalar-dependencias","title":"3\ufe0f\u20e3 Instalar Dependencias","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#4-ejecutar-la-aplicacion","title":"4\ufe0f\u20e3 Ejecutar la Aplicaci\u00f3n","text":"<p>Modo Desarrollo: <pre><code>python run.py\n</code></pre></p> <p>Modo Producci\u00f3n: <pre><code>python run.py production\n</code></pre></p>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#5-probar-la-api","title":"5\ufe0f\u20e3 Probar la API","text":"<p>Abre tu navegador o Postman y visita:</p> <pre><code>http://localhost:5000/\n</code></pre> <p>Deber\u00edas ver la informaci\u00f3n de la API en formato JSON.</p>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#endpoints-principales","title":"\ud83c\udfaf Endpoints Principales","text":"M\u00e9todo Endpoint Descripci\u00f3n GET <code>/</code> Informaci\u00f3n general de la API POST <code>/api/v1/auth/login</code> Login de usuario GET <code>/api/v1/collections/report/account12</code> Reporte general CxC GET <code>/api/v1/collections/report/national</code> Reporte nacional GET <code>/api/v1/collections/report/international</code> Reporte internacional GET <code>/api/v1/treasury/report/account42</code> Reporte tesorer\u00eda (placeholder)"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#ejemplo-de-peticion-con-curl","title":"\ud83d\udcdd Ejemplo de Petici\u00f3n con curl","text":""},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#login","title":"Login","text":"<pre><code>curl -X POST http://localhost:5000/api/v1/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"tu_usuario\", \"password\": \"tu_contrase\u00f1a\"}'\n</code></pre>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#reporte-de-cobranzas","title":"Reporte de Cobranzas","text":"<pre><code>curl \"http://localhost:5000/api/v1/collections/report/account12?date_from=2024-01-01&amp;limit=10\"\n</code></pre>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#ejemplo-con-python","title":"\ud83d\udc0d Ejemplo con Python","text":"<p>Tambi\u00e9n puedes ejecutar el script de ejemplo incluido:</p> <pre><code>python EJEMPLO_USO.py\n</code></pre>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#solucion-de-problemas","title":"\u2753 Soluci\u00f3n de Problemas","text":""},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#error-faltan-credenciales-de-odoo","title":"Error: \"Faltan credenciales de Odoo\"","text":"<ul> <li>Verifica que creaste los archivos <code>.env.desarrollo</code> o <code>.env.produccion</code></li> <li>Aseg\u00farate de que las variables ODOO_URL, ODOO_DB, ODOO_USER y ODOO_PASSWORD est\u00e9n definidas</li> </ul>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#error-no-se-pudo-conectar-a-odoo","title":"Error: \"No se pudo conectar a Odoo\"","text":"<ul> <li>Verifica que las credenciales de Odoo sean correctas</li> <li>Verifica que la URL de Odoo sea accesible</li> <li>Verifica tu conexi\u00f3n a internet</li> </ul>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#el-servidor-no-inicia","title":"El servidor no inicia","text":"<ul> <li>Aseg\u00farate de que el entorno virtual est\u00e9 activado</li> <li>Verifica que todas las dependencias est\u00e9n instaladas: <code>pip install -r requirements.txt</code></li> <li>Verifica que el puerto 5000 no est\u00e9 en uso</li> </ul>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#proximos-pasos","title":"\ud83c\udf93 Pr\u00f3ximos Pasos","text":"<ol> <li>\u2705 Configurar credenciales reales de Odoo</li> <li>\u2705 Probar los endpoints con datos reales</li> <li>\u2705 Explorar los par\u00e1metros de filtrado disponibles</li> <li>\u2705 Integrar con tu aplicaci\u00f3n frontend</li> <li>\u2705 Implementar autenticaci\u00f3n JWT (opcional)</li> </ol>"},{"location":"INSTRUCCIONES_INICIO_RAPIDO/#documentacion-completa","title":"\ud83d\udcda Documentaci\u00f3n Completa","text":"<p>Para m\u00e1s detalles, consulta el archivo <code>README.md</code> en la ra\u00edz del proyecto.</p>"},{"location":"MEJORAS_UI_UX/","title":"\ud83c\udfa8 Mejoras de UI/UX Implementadas","text":""},{"location":"MEJORAS_UI_UX/#cambios-realizados","title":"\u2705 Cambios Realizados","text":""},{"location":"MEJORAS_UI_UX/#1-sidebar-responsivo-con-hover","title":"1. Sidebar Responsivo con Hover \ud83c\udfaf","text":"<p>El men\u00fa lateral ahora es inteligente y se adapta autom\u00e1ticamente:</p>"},{"location":"MEJORAS_UI_UX/#comportamiento","title":"Comportamiento:","text":"<ul> <li>Estado normal: 60px de ancho (solo iconos visibles)</li> <li>Al pasar el mouse: Se expande a 250px mostrando textos completos</li> <li>Transici\u00f3n suave: Animaci\u00f3n de 0.3 segundos</li> <li>Contenido adaptativo: El \u00e1rea principal se ajusta autom\u00e1ticamente</li> </ul>"},{"location":"MEJORAS_UI_UX/#caracteristicas","title":"Caracter\u00edsticas:","text":"<ul> <li>\u2705 Ahorra espacio: M\u00e1s \u00e1rea para contenido</li> <li>\u2705 Iconos siempre visibles: Navegaci\u00f3n intuitiva</li> <li>\u2705 Expansi\u00f3n autom\u00e1tica: Solo cuando necesitas leer</li> <li>\u2705 Animaci\u00f3n fluida: Transici\u00f3n CSS elegante</li> <li>\u2705 Posici\u00f3n fija: El sidebar permanece visible al hacer scroll</li> </ul>"},{"location":"MEJORAS_UI_UX/#como-funciona","title":"C\u00f3mo funciona:","text":"<pre><code>/* Estado contra\u00eddo */\n.sidebar {\n    width: 60px;\n}\n\n/* Estado expandido (hover) */\n.sidebar:hover {\n    width: 250px;\n}\n\n/* Textos ocultos por defecto */\n.sidebar .nav-link span {\n    opacity: 0;\n}\n\n/* Textos visibles al hover */\n.sidebar:hover .nav-link span {\n    opacity: 1;\n}\n</code></pre>"},{"location":"MEJORAS_UI_UX/#2-paginas-en-progreso-para-rutas-sin-implementar","title":"2. P\u00e1ginas \"En Progreso\" para Rutas Sin Implementar \ud83d\udee0\ufe0f","text":"<p>Ahora todas las rutas sin implementar muestran una p\u00e1gina amigable:</p>"},{"location":"MEJORAS_UI_UX/#paginas-que-muestran-en-progreso","title":"P\u00e1ginas que muestran \"En Progreso\":","text":"<ul> <li>\u2705 Reporte Nacional</li> <li>\u2705 Reporte Internacional</li> <li>\u2705 Dashboard Cobranzas</li> <li>\u2705 Dashboard Tesorer\u00eda</li> <li>\u2705 Letras por Recuperar</li> <li>\u2705 Letras en Banco</li> <li>\u2705 Enviar Detracciones</li> <li>\u2705 Dashboard Interdepartamental</li> </ul>"},{"location":"MEJORAS_UI_UX/#caracteristicas-de-la-pagina","title":"Caracter\u00edsticas de la p\u00e1gina:","text":"<ul> <li>Icono animado: Herramienta que rota suavemente</li> <li>Mensaje claro: \"P\u00e1gina en Desarrollo\"</li> <li>Estado visible: \"En Progreso de Implementaci\u00f3n\"</li> <li>Navegaci\u00f3n f\u00e1cil: Bot\u00f3n para volver al Dashboard</li> <li>Dise\u00f1o profesional: Sin errores t\u00e9cnicos visibles</li> </ul>"},{"location":"MEJORAS_UI_UX/#vista-previa","title":"Vista previa:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                  \u2502\n\u2502          \ud83d\udd27 (girando)            \u2502\n\u2502                                  \u2502\n\u2502    P\u00e1gina en Desarrollo          \u2502\n\u2502                                  \u2502\n\u2502  Esta funcionalidad est\u00e1 siendo  \u2502\n\u2502     implementada. Pronto         \u2502\n\u2502    estar\u00e1 disponible.            \u2502\n\u2502                                  \u2502\n\u2502  \u2139\ufe0f  Estado: En Progreso         \u2502\n\u2502                                  \u2502\n\u2502    [\ud83c\udfe0 Volver al Dashboard]      \u2502\n\u2502                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"MEJORAS_UI_UX/#beneficios-de-las-mejoras","title":"\ud83c\udfaf Beneficios de las Mejoras","text":""},{"location":"MEJORAS_UI_UX/#sidebar-responsivo","title":"Sidebar Responsivo:","text":"<ol> <li>M\u00e1s espacio \u00fatil: 190px adicionales para mostrar datos</li> <li>Mejor UX: Solo se expande cuando lo necesitas</li> <li>Navegaci\u00f3n intuitiva: Iconos reconocibles</li> <li>Aspecto profesional: Similar a apps modernas (VS Code, Discord)</li> <li>Sin perder funcionalidad: Todos los enlaces accesibles</li> </ol>"},{"location":"MEJORAS_UI_UX/#paginas-en-progreso","title":"P\u00e1ginas \"En Progreso\":","text":"<ol> <li>No m\u00e1s errores 404: Experiencia profesional</li> <li>Comunicaci\u00f3n clara: Usuario sabe que viene pronto</li> <li>Navegaci\u00f3n fluida: F\u00e1cil volver al inicio</li> <li>Aspecto pulido: Sistema parece completo</li> <li>Confianza del usuario: Saben que est\u00e1 en desarrollo activo</li> </ol>"},{"location":"MEJORAS_UI_UX/#responsive-design","title":"\ud83d\udcf1 Responsive Design","text":""},{"location":"MEJORAS_UI_UX/#sidebar-en-diferentes-dispositivos","title":"Sidebar en diferentes dispositivos:","text":"<p>Desktop (&gt;768px): - Contra\u00eddo: 60px - Expandido: 250px al hover - Contenido se ajusta autom\u00e1ticamente</p> <p>Tablet/Mobile (&lt;768px): - Se oculta por defecto - Puede activarse con bot\u00f3n hamburguesa (futuro)</p>"},{"location":"MEJORAS_UI_UX/#elementos-de-diseno","title":"\ud83c\udfa8 Elementos de Dise\u00f1o","text":""},{"location":"MEJORAS_UI_UX/#iconos-utilizados","title":"Iconos Utilizados:","text":"<ul> <li>\ud83c\udfe0 <code>bi-speedometer2</code> - Dashboard</li> <li>\ud83d\udcc4 <code>bi-file-earmark-text</code> - Reportes</li> <li>\ud83c\udf10 <code>bi-globe</code> - Internacional</li> <li>\ud83c\udff3\ufe0f <code>bi-flag</code> - Nacional</li> <li>\ud83d\udcca <code>bi-bar-chart</code> - Dashboards</li> <li>\u2709\ufe0f <code>bi-envelope</code> - Letras</li> <li>\ud83d\udce4 <code>bi-send</code> - Detracciones</li> </ul>"},{"location":"MEJORAS_UI_UX/#colores-paleta-odoo","title":"Colores (Paleta Odoo):","text":"<ul> <li>Primary: <code>#714B67</code> (p\u00farpura)</li> <li>Hover: <code>#5a3a52</code> (p\u00farpura oscuro)</li> <li>Active: <code>#714B67</code> con fondo</li> </ul>"},{"location":"MEJORAS_UI_UX/#proximas-mejoras-sugeridas","title":"\ud83d\ude80 Pr\u00f3ximas Mejoras Sugeridas","text":""},{"location":"MEJORAS_UI_UX/#sidebar","title":"Sidebar:","text":"<ul> <li>[ ] Bot\u00f3n para fijar/desfijar sidebar</li> <li>[ ] Versi\u00f3n m\u00f3vil con overlay</li> <li>[ ] Tooltips en iconos cuando est\u00e1 contra\u00eddo</li> <li>[ ] Indicador visual de p\u00e1gina activa mejorado</li> </ul>"},{"location":"MEJORAS_UI_UX/#paginas-en-progreso_1","title":"P\u00e1ginas en Progreso:","text":"<ul> <li>[ ] Progress bar de implementaci\u00f3n</li> <li>[ ] Fecha estimada de disponibilidad</li> <li>[ ] Formulario para solicitar prioridad</li> </ul>"},{"location":"MEJORAS_UI_UX/#archivos-modificados","title":"\ud83d\udcc2 Archivos Modificados","text":"<ol> <li>\u2705 <code>app/templates/base.html</code></li> <li>Estilos CSS del sidebar responsivo</li> <li>Estructura HTML actualizada</li> <li> <p>Animaciones y transiciones</p> </li> <li> <p>\u2705 <code>app/templates/en_progreso.html</code></p> </li> <li>Nuevo template creado</li> <li>Dise\u00f1o profesional</li> <li> <p>Animaci\u00f3n del icono</p> </li> <li> <p>\u2705 <code>app/web/routes.py</code></p> </li> <li>8 rutas actualizadas</li> <li>Todas apuntan a <code>en_progreso.html</code></li> </ol>"},{"location":"MEJORAS_UI_UX/#como-probar","title":"\ud83c\udf93 C\u00f3mo Probar","text":"<ol> <li> <p>Ejecutar aplicaci\u00f3n: <pre><code>python run.py\n</code></pre></p> </li> <li> <p>Login: <pre><code>http://localhost:5000/login\n</code></pre></p> </li> <li> <p>Ver sidebar responsivo:</p> </li> <li>Pasar mouse sobre los iconos del sidebar</li> <li>Observar c\u00f3mo se expande suavemente</li> <li> <p>Mover el mouse fuera y ver c\u00f3mo se contrae</p> </li> <li> <p>Probar p\u00e1ginas en progreso:</p> </li> <li>Click en \"Reporte Nacional\"</li> <li>Click en \"Dashboard Cobranzas\"</li> <li>Click en \"Letras por Recuperar\"</li> <li>Todas mostrar\u00e1n la p\u00e1gina amigable</li> </ol>"},{"location":"MEJORAS_UI_UX/#resultado-final","title":"\u2728 Resultado Final","text":""},{"location":"MEJORAS_UI_UX/#antes","title":"Antes:","text":"<ul> <li>\u274c Sidebar ocupaba 16% de la pantalla siempre</li> <li>\u274c P\u00e1ginas no implementadas mostraban errores</li> <li>\u274c Experiencia poco profesional</li> </ul>"},{"location":"MEJORAS_UI_UX/#despues","title":"Despu\u00e9s:","text":"<ul> <li>\u2705 Sidebar ocupa solo 60px (contra\u00eddo)</li> <li>\u2705 Se expande solo cuando necesitas</li> <li>\u2705 P\u00e1ginas en progreso con dise\u00f1o profesional</li> <li>\u2705 Sin errores visibles para el usuario</li> <li>\u2705 Experiencia moderna y pulida</li> </ul> <p>Estado: \u2705 IMPLEMENTADO Y FUNCIONAL</p> <p>El sistema ahora tiene una interfaz m\u00e1s profesional y user-friendly.</p>"},{"location":"PROYECTO_COMPLETO/","title":"\ud83c\udfd7\ufe0f Proyecto Finanzas AGV - Estructura Completa","text":""},{"location":"PROYECTO_COMPLETO/#resumen-ejecutivo","title":"\ud83d\udccb Resumen Ejecutivo","text":"<p>Estado del Proyecto: ESTRUCTURA COMPLETA IMPLEMENTADA</p> <p>M\u00f3dulos Funcionales (100% Operativos): - \u2705 Reporte Cuenta 12 (Cuentas por Cobrar) - FUNCIONAL CON INTERFAZ WEB - \u2705 Reporte Cuenta 42 (Cuentas por Pagar) - FUNCIONAL CON INTERFAZ WEB - \u2705 Exportaci\u00f3n a Excel (Ambos reportes) - \u2705 Dashboard Principal con KPIs - \u2705 Login y Autenticaci\u00f3n</p> <p>M\u00f3dulos con Estructura (Pendientes de Implementaci\u00f3n): - \u23f3 Emails masivos (letras, detracciones) - \u23f3 Gesti\u00f3n de letras - \u23f3 Gesti\u00f3n de detracciones - \u23f3 Dashboards avanzados con gr\u00e1ficos din\u00e1micos</p>"},{"location":"PROYECTO_COMPLETO/#lo-que-se-puede-usar-ya-urgencia-cubierta","title":"\ud83c\udfaf Lo que se Puede Usar YA (URGENCIA CUBIERTA)","text":""},{"location":"PROYECTO_COMPLETO/#1-reporte-cuenta-12-cobranzas","title":"1. Reporte Cuenta 12 - Cobranzas \u2705","text":"<ul> <li>API: <code>GET /api/v1/collections/report/account12</code></li> <li>Web: <code>http://localhost:5000/collections/report-12</code></li> <li>Exportar: Bot\u00f3n \"Exportar Excel\" en la interfaz</li> <li>Filtros: Fecha, cliente, l\u00edmite de registros</li> <li>Caracter\u00edsticas:</li> <li>Tabla interactiva con DataTables</li> <li>Estad\u00edsticas en tiempo real</li> <li>Exportaci\u00f3n directa a Excel</li> <li>Responsive design con Bootstrap 5</li> </ul>"},{"location":"PROYECTO_COMPLETO/#2-reporte-cuenta-42-tesoreria","title":"2. Reporte Cuenta 42 - Tesorer\u00eda \u2705","text":"<ul> <li>API: <code>GET /api/v1/treasury/report/account42</code></li> <li>Web: <code>http://localhost:5000/treasury/report-42</code></li> <li>Exportar: Bot\u00f3n \"Exportar Excel\" en la interfaz</li> <li>Filtros: Fecha, proveedor, l\u00edmite de registros</li> <li>Caracter\u00edsticas:</li> <li>C\u00e1lculo autom\u00e1tico de d\u00edas vencidos</li> <li>Clasificaci\u00f3n de antig\u00fcedad de deuda</li> <li>Estado VENCIDO/VIGENTE</li> <li>Estad\u00edsticas de deuda vencida</li> <li>Exportaci\u00f3n directa a Excel</li> </ul>"},{"location":"PROYECTO_COMPLETO/#estructura-del-proyecto-completo","title":"\ud83d\udcc1 Estructura del Proyecto Completo","text":"<pre><code>Finanzas_Agv/\n\u2502\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py                    # Factory con todos los blueprints\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 core/                          # \u2705 COMPLETO\n\u2502   \u2502   \u251c\u2500\u2500 odoo.py                    # OdooRepository (conexi\u00f3n Odoo)\n\u2502   \u2502   \u2514\u2500\u2500 calculators.py             # C\u00e1lculos financieros\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 auth/                          # \u2705 FUNCIONAL\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint auth_bp\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # POST /api/v1/auth/login\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 collections/                   # \u2705 FUNCIONAL\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint collections_bp\n\u2502   \u2502   \u251c\u2500\u2500 services.py                # CollectionsService (COMPLETO)\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # GET /report/account12, /national, /international\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 treasury/                      # \u2705 FUNCIONAL\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint treasury_bp\n\u2502   \u2502   \u251c\u2500\u2500 services.py                # TreasuryService (COMPLETO)\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # GET /report/account42, /summary/*\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 exports/                       # \u2705 FUNCIONAL\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint exports_bp\n\u2502   \u2502   \u251c\u2500\u2500 excel_service.py           # ExcelExportService (COMPLETO)\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # GET /collections/excel, /treasury/excel\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 emails/                        # \u23f3 ESTRUCTURA (Placeholder)\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint emails_bp\n\u2502   \u2502   \u251c\u2500\u2500 email_service.py           # EmailService (TODO)\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # POST /send/* (501 Not Implemented)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 letters/                       # \u23f3 ESTRUCTURA (Placeholder)\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint letters_bp\n\u2502   \u2502   \u251c\u2500\u2500 letters_service.py         # LettersService (TODO)\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # GET /to-recover, /in-bank (501)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 detractions/                   # \u23f3 ESTRUCTURA (Placeholder)\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint detractions_bp\n\u2502   \u2502   \u251c\u2500\u2500 detraction_service.py      # DetractionService (TODO)\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # GET /certificates (501)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 web/                           # \u2705 FUNCIONAL (Frontend)\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                # Blueprint web_bp\n\u2502   \u2502   \u2514\u2500\u2500 routes.py                  # Rutas HTML (todas las vistas)\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 templates/                     # \u2705 ESTRUCTURA COMPLETA\n\u2502       \u251c\u2500\u2500 base.html                  # Template base con Bootstrap 5\n\u2502       \u251c\u2500\u2500 login.html                 # \u2705 P\u00e1gina de login\n\u2502       \u251c\u2500\u2500 dashboard.html             # \u2705 Dashboard principal\n\u2502       \u251c\u2500\u2500 collections/\n\u2502       \u2502   \u2514\u2500\u2500 report_account12.html  # \u2705 FUNCIONAL - Reporte Cuenta 12\n\u2502       \u2514\u2500\u2500 treasury/\n\u2502           \u2514\u2500\u2500 report_account42.html  # \u2705 FUNCIONAL - Reporte Cuenta 42\n\u2502\n\u251c\u2500\u2500 config.py                          # \u2705 Configuraciones multi-entorno\n\u251c\u2500\u2500 run.py                             # \u2705 Punto de entrada\n\u251c\u2500\u2500 requirements.txt                   # \u2705 Todas las dependencias\n\u251c\u2500\u2500 .env.desarrollo                    # \u26a0\ufe0f CREAR MANUALMENTE\n\u2514\u2500\u2500 .env.produccion                    # \u26a0\ufe0f CREAR MANUALMENTE\n</code></pre>"},{"location":"PROYECTO_COMPLETO/#como-ejecutar-pasos-rapidos","title":"\ud83d\ude80 C\u00f3mo Ejecutar (Pasos R\u00e1pidos)","text":""},{"location":"PROYECTO_COMPLETO/#1-instalar-dependencias","title":"1. Instalar dependencias","text":"<pre><code>cd Finanzas_Agv\npip install -r requirements.txt\n</code></pre>"},{"location":"PROYECTO_COMPLETO/#2-crear-archivos-env-importante","title":"2. Crear archivos .env (IMPORTANTE)","text":"<p>Ver secci\u00f3n \"Variables de Entorno\" m\u00e1s abajo.</p>"},{"location":"PROYECTO_COMPLETO/#3-ejecutar","title":"3. Ejecutar","text":"<pre><code>python run.py\n</code></pre>"},{"location":"PROYECTO_COMPLETO/#4-acceder","title":"4. Acceder","text":"<ul> <li>API Root: http://localhost:5000/</li> <li>Login Web: http://localhost:5000/login</li> <li>Dashboard: http://localhost:5000/dashboard (despu\u00e9s de login)</li> <li>Reporte Cuenta 12: http://localhost:5000/collections/report-12</li> <li>Reporte Cuenta 42: http://localhost:5000/treasury/report-42</li> </ul>"},{"location":"PROYECTO_COMPLETO/#variables-de-entorno","title":"\ud83d\udd11 Variables de Entorno","text":"<p>Crear <code>.env.desarrollo</code> en la ra\u00edz:</p> <pre><code>SECRET_KEY=dev-secret-key-123\nFLASK_ENV=development\nFLASK_DEBUG=True\n\nODOO_URL=https://tu-odoo.com\nODOO_DB=tu_database\nODOO_USER=tu_usuario\nODOO_PASSWORD=tu_contrase\u00f1a\n</code></pre>"},{"location":"PROYECTO_COMPLETO/#endpoints-disponibles","title":"\ud83d\udcca Endpoints Disponibles","text":""},{"location":"PROYECTO_COMPLETO/#apis-rest-json","title":"APIs REST (JSON)","text":""},{"location":"PROYECTO_COMPLETO/#autenticacion","title":"Autenticaci\u00f3n","text":"<ul> <li><code>POST /api/v1/auth/login</code> - Login \u2705</li> </ul>"},{"location":"PROYECTO_COMPLETO/#cobranzas","title":"Cobranzas","text":"<ul> <li><code>GET /api/v1/collections/report/account12</code> - Reporte general \u2705</li> <li><code>GET /api/v1/collections/report/national</code> - Reporte nacional \u2705</li> <li><code>GET /api/v1/collections/report/international</code> - Reporte internacional \u2705</li> </ul>"},{"location":"PROYECTO_COMPLETO/#tesoreria","title":"Tesorer\u00eda","text":"<ul> <li><code>GET /api/v1/treasury/report/account42</code> - Reporte CxP \u2705</li> <li><code>GET /api/v1/treasury/summary/by-supplier</code> - Resumen por proveedor \u2705</li> <li><code>GET /api/v1/treasury/summary/by-aging</code> - Resumen por antig\u00fcedad \u2705</li> </ul>"},{"location":"PROYECTO_COMPLETO/#exportacion","title":"Exportaci\u00f3n","text":"<ul> <li><code>GET /api/v1/exports/collections/excel</code> - Exportar cobranzas \u2705</li> <li><code>GET /api/v1/exports/treasury/excel</code> - Exportar tesorer\u00eda \u2705</li> </ul>"},{"location":"PROYECTO_COMPLETO/#modulos-pendientes-501-not-implemented","title":"M\u00f3dulos Pendientes (501 Not Implemented)","text":"<ul> <li><code>POST /api/v1/emails/send/*</code> - Env\u00edo de correos \u23f3</li> <li><code>GET /api/v1/letters/*</code> - Gesti\u00f3n de letras \u23f3</li> <li><code>GET /api/v1/detractions/*</code> - Gesti\u00f3n de detracciones \u23f3</li> </ul>"},{"location":"PROYECTO_COMPLETO/#frontend-web-html","title":"Frontend Web (HTML)","text":""},{"location":"PROYECTO_COMPLETO/#general","title":"General","text":"<ul> <li><code>GET /login</code> - P\u00e1gina de login \u2705</li> <li><code>GET /</code> o <code>/dashboard</code> - Dashboard principal \u2705</li> </ul>"},{"location":"PROYECTO_COMPLETO/#cobranzas_1","title":"Cobranzas","text":"<ul> <li><code>GET /collections/report-12</code> - Reporte Cuenta 12 \u2705</li> <li><code>GET /collections/report-national</code> - Reporte nacional \u23f3</li> <li><code>GET /collections/report-international</code> - Reporte internacional \u23f3</li> <li><code>GET /collections/dashboard</code> - Dashboard cobranzas \u23f3</li> </ul>"},{"location":"PROYECTO_COMPLETO/#tesoreria_1","title":"Tesorer\u00eda","text":"<ul> <li><code>GET /treasury/report-42</code> - Reporte Cuenta 42 \u2705</li> <li><code>GET /treasury/dashboard</code> - Dashboard tesorer\u00eda \u23f3</li> </ul>"},{"location":"PROYECTO_COMPLETO/#gestion","title":"Gesti\u00f3n","text":"<ul> <li><code>GET /letters/to-recover</code> - Letras por recuperar \u23f3</li> <li><code>GET /detractions/send-certificates</code> - Enviar detracciones \u23f3</li> </ul>"},{"location":"PROYECTO_COMPLETO/#tecnologias-utilizadas","title":"\ud83c\udfa8 Tecnolog\u00edas Utilizadas","text":""},{"location":"PROYECTO_COMPLETO/#backend","title":"Backend","text":"<ul> <li>Flask 3.0.0</li> <li>Python 3.x</li> <li>XML-RPC (Odoo)</li> <li>openpyxl (Excel)</li> </ul>"},{"location":"PROYECTO_COMPLETO/#frontend","title":"Frontend","text":"<ul> <li>Bootstrap 5.3</li> <li>jQuery + DataTables</li> <li>Chart.js</li> <li>Bootstrap Icons</li> </ul>"},{"location":"PROYECTO_COMPLETO/#clean-code","title":"Clean Code","text":"<ul> <li>Patr\u00f3n Repository</li> <li>Patr\u00f3n Service Layer</li> <li>Patr\u00f3n Factory</li> <li>Blueprints modulares</li> <li>Separaci\u00f3n de responsabilidades</li> </ul>"},{"location":"PROYECTO_COMPLETO/#proximos-pasos-priorizados","title":"\ud83d\udcc8 Pr\u00f3ximos Pasos Priorizados","text":""},{"location":"PROYECTO_COMPLETO/#urgente-ya-completado","title":"URGENTE (Ya completado)","text":"<ol> <li>\u2705 Reporte Cuenta 12 - FUNCIONAL</li> <li>\u2705 Reporte Cuenta 42 - FUNCIONAL</li> <li>\u2705 Exportaci\u00f3n Excel - FUNCIONAL</li> <li>\u2705 Interfaz Web b\u00e1sica - FUNCIONAL</li> </ol>"},{"location":"PROYECTO_COMPLETO/#corto-plazo-1-2-semanas","title":"CORTO PLAZO (1-2 semanas)","text":"<ol> <li>\u23f3 Implementar env\u00edo de correos de letras</li> <li>\u23f3 Implementar generaci\u00f3n de planillas bancarias</li> <li>\u23f3 Completar dashboards con gr\u00e1ficos din\u00e1micos</li> <li>\u23f3 Reportes Nacional e Internacional (vistas web)</li> </ol>"},{"location":"PROYECTO_COMPLETO/#mediano-plazo-3-4-semanas","title":"MEDIANO PLAZO (3-4 semanas)","text":"<ol> <li>\u23f3 Env\u00edo masivo de constancias de detracci\u00f3n</li> <li>\u23f3 Dashboard interdepartamental</li> <li>\u23f3 Sistema de notificaciones</li> <li>\u23f3 Reportes programados</li> </ol>"},{"location":"PROYECTO_COMPLETO/#notas-importantes","title":"\ud83d\udca1 Notas Importantes","text":""},{"location":"PROYECTO_COMPLETO/#lo-que-funciona-ahora","title":"Lo que FUNCIONA AHORA:","text":"<ul> <li>\u2705 API REST completa para Cuenta 12 y 42</li> <li>\u2705 Interfaz web profesional con Bootstrap</li> <li>\u2705 Exportaci\u00f3n a Excel funcional</li> <li>\u2705 Filtros y b\u00fasquedas</li> <li>\u2705 Estad\u00edsticas en tiempo real</li> <li>\u2705 Tablas interactivas con DataTables</li> </ul>"},{"location":"PROYECTO_COMPLETO/#lo-que-esta-estructurado-pendiente","title":"Lo que est\u00e1 ESTRUCTURADO (pendiente):","text":"<ul> <li>\u23f3 M\u00f3dulo de emails (c\u00f3digo placeholder listo)</li> <li>\u23f3 M\u00f3dulo de letras (c\u00f3digo placeholder listo)</li> <li>\u23f3 M\u00f3dulo de detracciones (c\u00f3digo placeholder listo)</li> <li>\u23f3 Dashboards avanzados (estructura HTML lista)</li> </ul>"},{"location":"PROYECTO_COMPLETO/#ventajas-de-esta-estructura","title":"Ventajas de esta Estructura:","text":"<ol> <li>Modular: Cada m\u00f3dulo es independiente</li> <li>Escalable: F\u00e1cil agregar nuevas funcionalidades</li> <li>Documentado: C\u00f3digo con comentarios y TODOs</li> <li>Clean Code: Siguiendo mejores pr\u00e1cticas</li> <li>API-First: Backend y frontend separados</li> </ol>"},{"location":"PROYECTO_COMPLETO/#soporte","title":"\ud83d\udc1b Soporte","text":"<p>Para errores o consultas: 1. Revisar logs en consola 2. Verificar conexi\u00f3n a Odoo 3. Verificar variables de entorno 4. Revisar documentaci\u00f3n de cada m\u00f3dulo</p> <p>Versi\u00f3n: 1.0.0 Fecha: Noviembre 2025 Estado: \u2705 URGENCIA CUBIERTA - Reportes 12 y 42 FUNCIONALES</p>"},{"location":"automatizacion-cicd/","title":"\ud83e\udd16 Flujo de Automatizaci\u00f3n CI/CD","text":"<p>Esta p\u00e1gina explica c\u00f3mo funciona la automatizaci\u00f3n de la documentaci\u00f3n viva en este proyecto.</p> <p>Documentaci\u00f3n que se valida a s\u00ed misma</p> <p>Cada cambio pasa por validaciones autom\u00e1ticas antes de ser publicado, garantizando calidad y consistencia.</p>"},{"location":"automatizacion-cicd/#diagrama-del-flujo-completo","title":"\ud83d\udcca Diagrama del Flujo Completo","text":"<pre><code>graph TB\n    A[\ud83d\udc68\u200d\ud83d\udcbb Developer edita&lt;br/&gt;docs/BITACORA.md] --&gt; B{Git Push/PR}\n    B --&gt; C[\ud83d\udd0d GitHub Actions CI&lt;br/&gt;docs-ci.yml INICIA]\n\n    C --&gt; D1[\ud83d\udcdd Job 1: Lint Markdown&lt;br/&gt;markdownlint verifica formato]\n    C --&gt; D2[\ud83c\udfd7\ufe0f Job 2: Valida Structurizr DSL&lt;br/&gt;sintaxis C4 correcta]\n    C --&gt; D3[\ud83d\udd28 Job 3: Build MkDocs&lt;br/&gt;compila sitio HTML]\n    C --&gt; D4[\ud83d\udd17 Job 4: Link Checker&lt;br/&gt;detecta enlaces rotos]\n    C --&gt; D5[\ud83d\udd0d Job 5: Referencias Cruzadas&lt;br/&gt;ADRs \u2194 C4 \u2194 Runbooks]\n\n    D1 --&gt; E{\u00bfTodos los&lt;br/&gt;checks pasan?}\n    D2 --&gt; E\n    D3 --&gt; E\n    D4 --&gt; E\n    D5 --&gt; E\n\n    E --&gt;|\u274c NO| F[\ud83d\udeab PR Bloqueado&lt;br/&gt;no se puede mergear]\n    E --&gt;|\u2705 SI| G[\u2705 PR Aprobado&lt;br/&gt;merge permitido]\n\n    G --&gt; H[Merge a main]\n    H --&gt; I[\ud83d\ude80 GitHub Actions CD&lt;br/&gt;docs-cd.yml INICIA]\n\n    I --&gt; J[\ud83d\udce6 mkdocs gh-deploy&lt;br/&gt;publica a GitHub Pages]\n    J --&gt; K[\ud83c\udf10 Documentaci\u00f3n VIVA&lt;br/&gt;https://usuario.github.io/Finanzas_Agv]</code></pre>"},{"location":"automatizacion-cicd/#fase-1-edicion-y-commit","title":"\ud83d\udd04 Fase 1: Edici\u00f3n y Commit","text":""},{"location":"automatizacion-cicd/#paso-a-paso","title":"Paso a Paso","text":"<ol> <li> <p>Developer hace cambios locales: <pre><code># Edita cualquier archivo de documentaci\u00f3n\nnano docs/BITACORA.md\n\n# O crea nuevos ADRs\ncp docs/adrs/template.md docs/adrs/0002-nueva-decision.md\n</code></pre></p> </li> <li> <p>Commit y Push: <pre><code>git add docs/\ngit commit -m \"docs: actualiza bit\u00e1cora con nueva funcionalidad\"\ngit push origin feature/nueva-feature\n</code></pre></p> </li> <li> <p>Abre Pull Request en GitHub</p> </li> </ol>"},{"location":"automatizacion-cicd/#fase-2-validacion-automatica-ci","title":"\ud83d\udd0d Fase 2: Validaci\u00f3n Autom\u00e1tica (CI)","text":"<p>Archivo: <code>.github/workflows/docs-ci.yml</code></p> <p>Se dispara cuando: - Abres un Pull Request hacia <code>main</code> o <code>develop</code> - Haces push a <code>main</code> - Modificas archivos en <code>docs/**</code> o <code>mkdocs.yml</code></p>"},{"location":"automatizacion-cicd/#jobs-que-se-ejecutan","title":"Jobs que se Ejecutan","text":""},{"location":"automatizacion-cicd/#1-lint-markdown-lint-markdown","title":"1\ufe0f\u20e3 Lint Markdown (<code>lint-markdown</code>)","text":"<p>Prop\u00f3sito: Verificar formato consistente de archivos <code>.md</code></p> <p>Herramienta: <code>markdownlint-cli</code></p> <p>Qu\u00e9 valida: - \u2705 T\u00edtulos correctamente formateados - \u2705 Listas con espaciado apropiado - \u2705 L\u00edneas no excesivamente largas - \u2705 Sin HTML innecesario</p> <p>Configuraci\u00f3n: <code>.markdownlint.json</code></p> <pre><code>{\n  \"default\": true,\n  \"MD013\": false,  // Permite l\u00edneas largas\n  \"MD033\": false,  // Permite HTML embebido\n  \"MD041\": false   // No requiere H1 al inicio\n}\n</code></pre>"},{"location":"automatizacion-cicd/#2-validar-structurizr-dsl-validate-structurizr","title":"2\ufe0f\u20e3 Validar Structurizr DSL (<code>validate-structurizr</code>)","text":"<p>Prop\u00f3sito: Asegurar que el modelo C4 tenga sintaxis correcta</p> <p>Herramienta: Structurizr CLI oficial</p> <p>Proceso: 1. Descarga \u00faltima versi\u00f3n de Structurizr CLI 2. Ejecuta validaci\u00f3n sobre <code>docs/c4model/workspace.dsl</code> 3. Si hay error de sintaxis \u2192 Pipeline FALLA</p> <p>Ejemplo de error detectado: <pre><code>ERROR: Line 25: Missing closing brace in model definition\n</code></pre></p>"},{"location":"automatizacion-cicd/#3-construir-documentacion-build-docs","title":"3\ufe0f\u20e3 Construir Documentaci\u00f3n (<code>build-docs</code>)","text":"<p>Prop\u00f3sito: Compilar el sitio MkDocs y detectar problemas</p> <p>Modo: <code>mkdocs build --strict</code></p> <p>Qu\u00e9 detecta: - \u274c Enlaces a p\u00e1ginas inexistentes - \u274c Referencias a im\u00e1genes faltantes - \u274c Errores en configuraci\u00f3n <code>mkdocs.yml</code> - \u274c P\u00e1ginas hu\u00e9rfanas (no en navegaci\u00f3n)</p> <p>Salida: Genera carpeta <code>site/</code> con HTML compilado y la sube como artefacto.</p>"},{"location":"automatizacion-cicd/#4-verificar-enlaces-check-links","title":"4\ufe0f\u20e3 Verificar Enlaces (<code>check-links</code>)","text":"<p>Prop\u00f3sito: Detectar enlaces rotos antes de publicar</p> <p>Herramienta: <code>linkchecker</code> (Python)</p> <p>Qu\u00e9 valida: - \u2705 Enlaces internos entre documentos - \u2705 Enlaces externos (APIs, documentaci\u00f3n externa) - \u2705 Im\u00e1genes y recursos</p> <p>Ejemplo de error detectado: <pre><code>Error: URL 'docs/adrs/0003-backup.md' results in HTTP 404\n</code></pre></p>"},{"location":"automatizacion-cicd/#5-validar-referencias-cruzadas-validate-cross-references","title":"5\ufe0f\u20e3 Validar Referencias Cruzadas (<code>validate-cross-references</code>)","text":"<p>Prop\u00f3sito: Garantizar trazabilidad entre artefactos</p> <p>Validaciones: - \u2705 ADRs mencionan componentes C4 afectados - \u2705 Runbooks citan ADRs que justifican procedimientos - \u2705 Arquitectura referencia decisiones tomadas</p> <p>Script: <pre><code># Busca que ADRs mencionen arquitectura\ngrep -r \"C4\\|componente\\|arquitectura\" docs/adrs/*.md\n\n# Busca que Runbooks referencien ADRs\ngrep -r \"ADR-\\|decisi\u00f3n\" docs/runbooks/*.md\n</code></pre></p>"},{"location":"automatizacion-cicd/#resultado-de-ci","title":"\u2705 Resultado de CI","text":""},{"location":"automatizacion-cicd/#si-todo-pasa","title":"Si TODO pasa:","text":"<p><pre><code>\u2705 lint-markdown       PASSED\n\u2705 validate-structurizr PASSED\n\u2705 build-docs          PASSED\n\u2705 check-links         PASSED\n\u2705 validate-cross-references PASSED\n\n\ud83d\udfe2 All checks have passed\n</code></pre> \u2192 Pull Request puede ser mergeado</p>"},{"location":"automatizacion-cicd/#si-algo-falla","title":"Si algo falla:","text":"<p><pre><code>\u2705 lint-markdown       PASSED\n\u274c build-docs          FAILED\n   Error: Page 'docs/runbooks/rb-003.md' not found\n</code></pre> \u2192 Pull Request BLOQUEADO hasta corregir</p>"},{"location":"automatizacion-cicd/#fase-3-despliegue-automatico-cd","title":"\ud83d\ude80 Fase 3: Despliegue Autom\u00e1tico (CD)","text":"<p>Archivo: <code>.github/workflows/docs-cd.yml</code></p> <p>Se dispara cuando: - Haces merge/push a <code>main</code> - Modificaste <code>docs/**</code> o <code>mkdocs.yml</code></p>"},{"location":"automatizacion-cicd/#proceso-de-despliegue","title":"Proceso de Despliegue","text":"<ol> <li> <p>Checkout del c\u00f3digo actualizado <pre><code>- uses: actions/checkout@v4\n  with:\n    fetch-depth: 0  # Historial completo para git\n</code></pre></p> </li> <li> <p>Configurar entorno Python <pre><code>- uses: actions/setup-python@v5\n  with:\n    python-version: '3.11'\n    cache: 'pip'  # Cachea dependencias para velocidad\n</code></pre></p> </li> <li> <p>Instalar MkDocs <pre><code>pip install mkdocs mkdocs-material\n</code></pre></p> </li> <li> <p>Configurar credenciales Git <pre><code>git config user.name \"github-actions[bot]\"\ngit config user.email \"github-actions[bot]@users.noreply.github.com\"\n</code></pre></p> </li> <li> <p>Desplegar a GitHub Pages <pre><code>mkdocs gh-deploy --force --clean --verbose\n</code></pre></p> </li> </ol> <p>Este comando: - Compila el sitio en <code>site/</code> - Crea/actualiza rama <code>gh-pages</code> - Sube el HTML compilado - GitHub Pages autom\u00e1ticamente sirve esa rama</p>"},{"location":"automatizacion-cicd/#acceso-a-la-documentacion-publicada","title":"\ud83c\udf10 Acceso a la Documentaci\u00f3n Publicada","text":"<p>Una vez desplegado, tu documentaci\u00f3n estar\u00e1 en:</p> <pre><code>https://&lt;tu-usuario&gt;.github.io/&lt;nombre-repo&gt;/\n</code></pre> <p>Para este proyecto: <pre><code>https://josemontero-agv.github.io/Finanzas_Agv/\n</code></pre></p>"},{"location":"automatizacion-cicd/#permisos-y-seguridad","title":"\ud83d\udd10 Permisos y Seguridad","text":"<p>El workflow CD tiene permisos espec\u00edficos:</p> <pre><code>permissions:\n  contents: write   # Modificar repo (crear rama gh-pages)\n  pages: write      # Desplegar a GitHub Pages\n  id-token: write   # Autenticaci\u00f3n segura\n</code></pre> <p>Beneficio: Solo el bot de GitHub Actions puede desplegar. Ning\u00fan humano puede saltarse las validaciones.</p>"},{"location":"automatizacion-cicd/#comandos-utiles-locales","title":"\ud83d\udee0\ufe0f Comandos \u00datiles Locales","text":""},{"location":"automatizacion-cicd/#ver-documentacion-antes-de-commit","title":"Ver documentaci\u00f3n antes de commit:","text":"<pre><code>mkdocs serve\n# Abre http://127.0.0.1:8000\n</code></pre>"},{"location":"automatizacion-cicd/#validar-construccion-sin-desplegar","title":"Validar construcci\u00f3n sin desplegar:","text":"<pre><code>mkdocs build --strict\n</code></pre>"},{"location":"automatizacion-cicd/#validar-markdown-manualmente","title":"Validar Markdown manualmente:","text":"<pre><code>markdownlint 'docs/**/*.md' --config .markdownlint.json\n</code></pre>"},{"location":"automatizacion-cicd/#validar-enlaces-manualmente","title":"Validar enlaces manualmente:","text":"<pre><code>mkdocs build\nlinkchecker site/\n</code></pre>"},{"location":"automatizacion-cicd/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>Workflows CI/CD: </li> <li>Ver archivo <code>.github/workflows/docs-ci.yml</code> en el repositorio</li> <li>Ver archivo <code>.github/workflows/docs-cd.yml</code> en el repositorio</li> <li>Gu\u00eda de GitHub Actions: Ver gu\u00eda de activaci\u00f3n</li> <li>MkDocs Deployment: Documentaci\u00f3n oficial</li> </ul>"},{"location":"github-pages-setup/","title":"\ud83d\ude80 Gu\u00eda de Activaci\u00f3n de GitHub Pages","text":"<p>Esta gu\u00eda te ayudar\u00e1 a activar GitHub Pages para publicar tu documentaci\u00f3n autom\u00e1ticamente.</p>"},{"location":"github-pages-setup/#prerrequisitos","title":"\ud83d\udccb Prerrequisitos","text":"<ul> <li>\u2705 Repositorio GitHub creado</li> <li>\u2705 Archivos <code>.github/workflows/</code> en el repo</li> <li>\u2705 Documentaci\u00f3n en carpeta <code>docs/</code></li> <li>\u2705 Archivo <code>mkdocs.yml</code> configurado</li> </ul>"},{"location":"github-pages-setup/#paso-1-configurar-github-pages","title":"\ud83d\udd27 Paso 1: Configurar GitHub Pages","text":""},{"location":"github-pages-setup/#11-acceder-a-configuracion-del-repositorio","title":"1.1 Acceder a Configuraci\u00f3n del Repositorio","text":"<ol> <li>Ve a tu repositorio en GitHub: <code>https://github.com/&lt;tu-usuario&gt;/Finanzas_Agv</code></li> <li>Haz clic en \"Settings\" (\u2699\ufe0f Configuraci\u00f3n)</li> <li>En el men\u00fa lateral izquierdo, busca \"Pages\"</li> </ol>"},{"location":"github-pages-setup/#12-configurar-source-fuente","title":"1.2 Configurar Source (Fuente)","text":"<p>En la secci\u00f3n \"Build and deployment\":</p> <ol> <li>Source: Selecciona \"Deploy from a branch\"</li> <li>Branch: Selecciona <code>gh-pages</code> \u2190 Importante: esta rama se crea autom\u00e1ticamente</li> <li>Folder: Deja <code>/ (root)</code></li> <li>Haz clic en \"Save\"</li> </ol> <p></p>"},{"location":"github-pages-setup/#paso-2-primer-despliegue","title":"\ud83c\udfaf Paso 2: Primer Despliegue","text":""},{"location":"github-pages-setup/#opcion-a-despliegue-manual-desde-terminal","title":"Opci\u00f3n A: Despliegue Manual desde Terminal","text":"<p>Ejecuta estos comandos en tu terminal local:</p> <pre><code># 1. Aseg\u00farate de estar en la carpeta del proyecto\ncd \"C:\\Users\\jmontero\\Desktop\\GitHub Proyectos_AGV\\Finanzas_Agv\"\n\n# 2. Instala dependencias si no las tienes\npip install mkdocs mkdocs-material\n\n# 3. Despliega manualmente\nmkdocs gh-deploy --force --clean --verbose\n</code></pre> <p>Salida esperada: <pre><code>INFO    -  Cleaning site directory\nINFO    -  Building documentation to directory: site\nINFO    -  Copying 'site' to 'gh-pages' branch and pushing to GitHub\nINFO    -  Your documentation should shortly be available at:\n            https://&lt;tu-usuario&gt;.github.io/Finanzas_Agv/\n</code></pre></p>"},{"location":"github-pages-setup/#opcion-b-despliegue-automatico-via-git-push","title":"Opci\u00f3n B: Despliegue Autom\u00e1tico via Git Push","text":"<pre><code># 1. Haz cualquier cambio en docs/\necho \"# Test\" &gt;&gt; docs/test.md\n\n# 2. Commit y push a main\ngit add docs/test.md\ngit commit -m \"docs: trigger initial deployment\"\ngit push origin main\n</code></pre> <p>El workflow <code>.github/workflows/docs-cd.yml</code> se ejecutar\u00e1 autom\u00e1ticamente y desplegar\u00e1.</p>"},{"location":"github-pages-setup/#paso-3-verificar-despliegue","title":"\ud83d\udcca Paso 3: Verificar Despliegue","text":""},{"location":"github-pages-setup/#31-ver-el-workflow-en-accion","title":"3.1 Ver el Workflow en Acci\u00f3n","text":"<ol> <li>Ve a tu repositorio en GitHub</li> <li>Haz clic en la pesta\u00f1a \"Actions\"</li> <li>Ver\u00e1s el workflow \"\ud83d\ude80 CD - Despliegue de Documentaci\u00f3n\" ejecut\u00e1ndose</li> </ol>"},{"location":"github-pages-setup/#32-revisar-logs","title":"3.2 Revisar Logs","text":"<p>Haz clic en el workflow en ejecuci\u00f3n para ver: - \u2705 Checkout del c\u00f3digo - \u2705 Configuraci\u00f3n de Python - \u2705 Instalaci\u00f3n de dependencias - \u2705 Despliegue a gh-pages</p> <p>Si todo est\u00e1 bien, ver\u00e1s: <pre><code>\u2705 Deploy - \ud83d\udce6 Desplegar a GitHub Pages (42s)\n</code></pre></p>"},{"location":"github-pages-setup/#33-acceder-a-la-documentacion-publicada","title":"3.3 Acceder a la Documentaci\u00f3n Publicada","text":"<p>Una vez completado el despliegue (1-2 minutos), tu documentaci\u00f3n estar\u00e1 disponible en:</p> <pre><code>https://&lt;tu-usuario&gt;.github.io/Finanzas_Agv/\n</code></pre> <p>Ejemplo real: <pre><code>https://josemontero-agv.github.io/Finanzas_Agv/\n</code></pre></p>"},{"location":"github-pages-setup/#paso-4-verificar-configuracion","title":"\ud83d\udd0d Paso 4: Verificar Configuraci\u00f3n","text":""},{"location":"github-pages-setup/#41-verificar-que-la-rama-gh-pages-existe","title":"4.1 Verificar que la rama <code>gh-pages</code> existe","text":"<pre><code># Ver todas las ramas remotas\ngit fetch\ngit branch -r\n</code></pre> <p>Deber\u00edas ver: <pre><code>origin/main\norigin/gh-pages  \u2190 Esta rama fue creada autom\u00e1ticamente\n</code></pre></p>"},{"location":"github-pages-setup/#42-inspeccionar-contenido-de-gh-pages","title":"4.2 Inspeccionar contenido de gh-pages","text":"<pre><code># Ver qu\u00e9 hay en la rama gh-pages\ngit checkout gh-pages\nls\n</code></pre> <p>Ver\u00e1s solo HTML compilado: <pre><code>404.html\nassets/\nindex.html\nsearch/\nsitemap.xml\n...\n</code></pre></p> <p>No ver\u00e1s archivos <code>.md</code> porque MkDocs los convirti\u00f3 a HTML.</p>"},{"location":"github-pages-setup/#comandos-utiles-para-el-terminal","title":"\ud83d\udee0\ufe0f Comandos \u00datiles para el Terminal","text":""},{"location":"github-pages-setup/#opcion-a-usar-el-script-de-activacion-recomendado","title":"Opci\u00f3n A: Usar el Script de Activaci\u00f3n (Recomendado)","text":"<p>Windows (PowerShell): <pre><code>cd \"C:\\Users\\jmontero\\Desktop\\GitHub Proyectos_AGV\\Finanzas_Agv\"\n.\\activate-docs.ps1\n</code></pre></p> <p>Linux/Mac: <pre><code>cd ~/Finanzas_Agv\nchmod +x activate-docs.sh\n./activate-docs.sh\n</code></pre></p> <p>El script te presenta un men\u00fa interactivo con opciones: 1. \ud83c\udf10 Servir localmente 2. \ud83d\udd28 Construir sitio 3. \ud83d\ude80 Desplegar a GitHub Pages 4. \u2705 Validar construcci\u00f3n</p>"},{"location":"github-pages-setup/#opcion-b-comandos-manuales","title":"Opci\u00f3n B: Comandos Manuales","text":""},{"location":"github-pages-setup/#ver-documentacion-localmente","title":"Ver documentaci\u00f3n localmente:","text":"<p><pre><code>cd \"C:\\Users\\jmontero\\Desktop\\GitHub Proyectos_AGV\\Finanzas_Agv\"\nmkdocs serve\n</code></pre> Abre: <code>http://127.0.0.1:8000</code></p>"},{"location":"github-pages-setup/#construir-sin-desplegar-test","title":"Construir sin desplegar (test):","text":"<pre><code>mkdocs build --strict\n</code></pre>"},{"location":"github-pages-setup/#desplegar-manualmente-a-github-pages","title":"Desplegar manualmente a GitHub Pages:","text":"<pre><code>mkdocs gh-deploy --force --clean\n</code></pre>"},{"location":"github-pages-setup/#ver-diferencias-antes-de-desplegar","title":"Ver diferencias antes de desplegar:","text":"<pre><code>mkdocs build\ngit diff gh-pages\n</code></pre>"},{"location":"github-pages-setup/#troubleshooting","title":"\u26a0\ufe0f Troubleshooting","text":""},{"location":"github-pages-setup/#problema-404-there-isnt-a-github-pages-site-here","title":"Problema: \"404 - There isn't a GitHub Pages site here\"","text":"<p>Causa: GitHub Pages a\u00fan no termin\u00f3 de activarse.</p> <p>Soluci\u00f3n: 1. Espera 2-3 minutos despu\u00e9s del primer despliegue 2. Verifica en Settings \u2192 Pages que dice: \"Your site is live at...\" 3. Fuerza recarga en el navegador (Ctrl + F5)</p>"},{"location":"github-pages-setup/#problema-workflow-falla-con-permission-denied","title":"Problema: Workflow falla con \"Permission denied\"","text":"<p>Causa: GitHub Actions no tiene permisos para escribir en el repo.</p> <p>Soluci\u00f3n: 1. Ve a Settings \u2192 Actions \u2192 General 2. En \"Workflow permissions\", selecciona:    - \u2705 \"Read and write permissions\" 3. Guarda cambios 4. Re-ejecuta el workflow</p>"},{"location":"github-pages-setup/#problema-page-build-failed","title":"Problema: \"Page build failed\"","text":"<p>Causa: Error en la construcci\u00f3n del sitio.</p> <p>Soluci\u00f3n: 1. Ve a Actions y revisa los logs del workflow fallido 2. Ejecuta localmente: <code>mkdocs build --strict</code> 3. Corrige errores mostrados 4. Haz nuevo commit y push</p>"},{"location":"github-pages-setup/#problema-cambios-no-se-reflejan-en-el-sitio","title":"Problema: Cambios no se reflejan en el sitio","text":"<p>Causa: Cach\u00e9 del navegador.</p> <p>Soluci\u00f3n: 1. Limpia cach\u00e9: Ctrl + Shift + Del 2. Fuerza recarga: Ctrl + F5 3. Verifica timestamp en Settings \u2192 Pages (\u00faltima actualizaci\u00f3n)</p>"},{"location":"github-pages-setup/#configuracion-completada","title":"\ud83c\udf89 Configuraci\u00f3n Completada","text":"<p>Una vez que veas tu documentaci\u00f3n en <code>https://&lt;usuario&gt;.github.io/Finanzas_Agv/</code>:</p> <p>\u2705 Workflow CI validar\u00e1 cada Pull Request autom\u00e1ticamente \u2705 Workflow CD desplegar\u00e1 cada merge a <code>main</code> autom\u00e1ticamente \u2705 Documentaci\u00f3n siempre actualizada sin intervenci\u00f3n manual  </p>"},{"location":"github-pages-setup/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>Documentaci\u00f3n oficial GitHub Pages</li> <li>MkDocs Deployment Guide</li> <li>GitHub Actions para MkDocs</li> <li>Flujo de Automatizaci\u00f3n - Detalles del CI/CD</li> </ul>"},{"location":"github-pages-setup/#soporte","title":"\ud83c\udd98 Soporte","text":"<p>Si encuentras problemas: 1. Revisa los logs en Actions 2. Ejecuta <code>mkdocs build --strict</code> localmente 3. Consulta la Gu\u00eda de Contribuci\u00f3n 4. Abre un issue en el repositorio</p>"},{"location":"resumen-ejecutivo/","title":"\ud83d\udcca Resumen Ejecutivo - Sistema Finanzas AGV","text":"<p>Para Gerencia y Stakeholders</p> <p>Este documento presenta una visi\u00f3n general del Sistema Finanzas AGV sin entrar en detalles t\u00e9cnicos de implementaci\u00f3n.</p>"},{"location":"resumen-ejecutivo/#que-es-finanzas-agv","title":"\ud83c\udfaf \u00bfQu\u00e9 es Finanzas AGV?","text":"<p>Finanzas AGV es un sistema centralizado de gesti\u00f3n financiera que permite al equipo de finanzas, cobranzas y tesorer\u00eda tomar decisiones informadas basadas en datos actualizados del ERP Odoo.</p>"},{"location":"resumen-ejecutivo/#problemas-que-resuelve","title":"Problemas que Resuelve","text":"<ul> <li>\u274c Antes: Informaci\u00f3n dispersa en m\u00faltiples hojas de Excel y reportes manuales.</li> <li>\u2705 Ahora: Visualizaci\u00f3n en tiempo real de cuentas por cobrar, cuentas por pagar y liquidez.</li> </ul>"},{"location":"resumen-ejecutivo/#quien-lo-usa","title":"\ud83d\udc65 \u00bfQui\u00e9n lo Usa?","text":"Usuario Funci\u00f3n Principal Equipo de Cobranzas Seguimiento de facturas vencidas y estados de cuenta de clientes Equipo de Tesorer\u00eda Gesti\u00f3n de pagos a proveedores y control de flujo de caja Gerencia Financiera Dashboards ejecutivos con KPIs de liquidez y antig\u00fcedad de cuentas Administradores TI Configuraci\u00f3n de usuarios y mantenimiento del sistema"},{"location":"resumen-ejecutivo/#arquitectura-del-sistema-vista-simplificada","title":"\ud83c\udfd7\ufe0f Arquitectura del Sistema (Vista Simplificada)","text":"<p>El siguiente diagrama muestra c\u00f3mo el sistema interact\u00faa con otros componentes de la empresa:</p> <pre><code>graph LR\n    U[\ud83d\udc64 Usuario Financiero] --&gt; S[Sistema Finanzas AGV]\n    S --&gt; O[ERP Odoo&lt;br/&gt;Datos Maestros]\n    S --&gt; E[\ud83d\udce7 Correo&lt;br/&gt;Notificaciones]\n    S --&gt; SU[\ud83c\udfdb\ufe0f SUNAT&lt;br/&gt;Validaci\u00f3n]\n\n    style S fill:#714B67,color:#fff\n    style O fill:#999,color:#fff\n    style E fill:#999,color:#fff\n    style SU fill:#999,color:#fff</code></pre>"},{"location":"resumen-ejecutivo/#explicacion-de-componentes","title":"Explicaci\u00f3n de Componentes","text":"<ul> <li>Sistema Finanzas AGV (Centro): Aplicaci\u00f3n web donde trabajan los usuarios.</li> <li>ERP Odoo: Sistema central de donde se extraen facturas, pagos y datos de clientes.</li> <li>Servidor de Correo: Para enviar autom\u00e1ticamente estados de cuenta y recordatorios.</li> <li>SUNAT: Para validar la autenticidad de comprobantes electr\u00f3nicos.</li> </ul>"},{"location":"resumen-ejecutivo/#modulos-principales","title":"\ud83d\udcc8 M\u00f3dulos Principales","text":""},{"location":"resumen-ejecutivo/#1-cobranzas","title":"1. \ud83d\udcb0 Cobranzas","text":"<p>Funcionalidad: Gesti\u00f3n de cuentas por cobrar (Cuenta 12).</p> <ul> <li>Visualizaci\u00f3n de facturas pendientes por cliente</li> <li>Clasificaci\u00f3n por antig\u00fcedad (vigente, 30, 60, 90+ d\u00edas)</li> <li>Reportes filtrables por canal de venta, tipo de documento, rango de fechas</li> <li>Exportaci\u00f3n a Excel para an\u00e1lisis adicional</li> </ul> <p>Beneficio: Reducci\u00f3n del 30% en tiempo de seguimiento manual de cobranzas.</p>"},{"location":"resumen-ejecutivo/#2-tesoreria","title":"2. \ud83c\udfe6 Tesorer\u00eda","text":"<p>Funcionalidad: Gesti\u00f3n de cuentas por pagar (Cuenta 42).</p> <ul> <li>Seguimiento de obligaciones con proveedores</li> <li>Priorizaci\u00f3n de pagos seg\u00fan vencimiento</li> <li>Dashboard de liquidez proyectada</li> </ul> <p>Beneficio: Mejor planificaci\u00f3n de flujo de caja y relaciones con proveedores.</p>"},{"location":"resumen-ejecutivo/#3-detracciones","title":"3. \ud83d\udcdd Detracciones","text":"<p>Funcionalidad: Gesti\u00f3n automatizada de detracciones SUNAT.</p> <ul> <li>Env\u00edo masivo de constancias</li> <li>Seguimiento de estados</li> </ul> <p>Beneficio: Cumplimiento tributario sin errores manuales.</p>"},{"location":"resumen-ejecutivo/#4-notificaciones","title":"4. \ud83d\udce7 Notificaciones","text":"<p>Funcionalidad: Comunicaci\u00f3n autom\u00e1tica con clientes.</p> <ul> <li>Env\u00edo de estados de cuenta</li> <li>Recordatorios de vencimiento</li> </ul>"},{"location":"resumen-ejecutivo/#seguridad-y-acceso","title":"\ud83d\udd10 Seguridad y Acceso","text":"<ul> <li>Autenticaci\u00f3n: Login con usuario y contrase\u00f1a validados contra Odoo.</li> <li>Permisos: Cada usuario solo ve la informaci\u00f3n correspondiente a su rol.</li> <li>Auditor\u00eda: Todos los cambios quedan registrados con fecha y usuario responsable.</li> </ul>"},{"location":"resumen-ejecutivo/#indicadores-de-exito-kpis","title":"\ud83d\udcca Indicadores de \u00c9xito (KPIs)","text":"M\u00e9trica Antes (Manual) Con Finanzas AGV Tiempo para generar reporte CxC ~2 horas &lt; 5 minutos Errores en clasificaci\u00f3n antig\u00fcedad ~15% &lt; 1% Tiempo respuesta a consultas gerencia 1-2 d\u00edas Tiempo real"},{"location":"resumen-ejecutivo/#proximas-mejoras-planeadas","title":"\ud83d\ude80 Pr\u00f3ximas Mejoras Planeadas","text":"<ol> <li>Migraci\u00f3n del Frontend a React: Para mejorar la experiencia del usuario (m\u00e1s r\u00e1pido, m\u00e1s moderno).</li> <li>Integraciones Adicionales: Conectar con sistemas bancarios para conciliaci\u00f3n autom\u00e1tica.</li> <li>BI Avanzado: Dashboards predictivos con Machine Learning para anticipar problemas de cobranza.</li> </ol>"},{"location":"resumen-ejecutivo/#contacto-y-soporte","title":"\ud83d\udcde Contacto y Soporte","text":"<p>Para consultas sobre funcionalidad o solicitudes de nuevas caracter\u00edsticas:</p> <ul> <li>Equipo de Desarrollo: devops@agrovetmarket.com</li> <li>Documentaci\u00f3n T\u00e9cnica: Ver Documentaci\u00f3n Completa</li> <li>Reportar Problema: Abrir ticket en sistema de soporte TI</li> </ul> <p>\u00daltima Actualizaci\u00f3n: Noviembre 2025 Versi\u00f3n del Sistema: 1.0 Estado: Producci\u00f3n</p>"},{"location":"adrs/0001-uso-mkdocs/","title":"ADR-001: Uso de MkDocs para Documentaci\u00f3n","text":"<p>ID: ADR-001 T\u00edtulo: Adopci\u00f3n de MkDocs como generador de sitio est\u00e1tico para documentaci\u00f3n Estado: Aceptado Fecha: 2025-11-20</p>"},{"location":"adrs/0001-uso-mkdocs/#contexto","title":"Contexto","text":"<p>El proyecto necesita una forma centralizada y accesible de mantener la documentaci\u00f3n t\u00e9cnica y funcional. Los documentos Markdown dispersos son dif\u00edciles de navegar para usuarios no t\u00e9cnicos.</p>"},{"location":"adrs/0001-uso-mkdocs/#decision","title":"Decisi\u00f3n","text":"<p>Se eligi\u00f3 MkDocs con el tema Material for MkDocs.</p> <ul> <li>Porque:<ul> <li>Permite tratar la documentaci\u00f3n como c\u00f3digo (Docs as Code).</li> <li>Genera un sitio est\u00e1tico r\u00e1pido y f\u00e1cil de desplegar.</li> <li>Tiene excelente soporte para b\u00fasqueda y responsividad m\u00f3vil.</li> <li>La comunidad y plugins son extensos.</li> </ul> </li> </ul>"},{"location":"adrs/0001-uso-mkdocs/#consecuencias","title":"Consecuencias","text":"<ul> <li>Positivas:<ul> <li>Centralizaci\u00f3n de la informaci\u00f3n.</li> <li>B\u00fasqueda r\u00e1pida para todos los stakeholders.</li> <li>Separaci\u00f3n clara entre contenido (Markdown) y presentaci\u00f3n.</li> </ul> </li> <li>Negativas:<ul> <li>Requiere un paso de compilaci\u00f3n (build) para ver el resultado final.</li> </ul> </li> </ul>"},{"location":"adrs/index_adrs/","title":"Decisiones Arquitect\u00f3nicas (ADRs)","text":"<p>Los Registros de Decisiones Arquitect\u00f3nicas (Architecture Decision Records - ADRs) documentan las decisiones importantes que afectan la estructura, tecnolog\u00edas y patrones del sistema.</p>"},{"location":"adrs/index_adrs/#por-que-usamos-adrs","title":"\u00bfPor qu\u00e9 usamos ADRs?","text":"<ul> <li>Trazabilidad: Mantener historial de las decisiones t\u00e9cnicas y su contexto.</li> <li>Onboarding: Nuevos miembros del equipo comprenden el \"por qu\u00e9\" detr\u00e1s del c\u00f3digo.</li> <li>Inmutabilidad: Los ADRs no se eliminan; si una decisi\u00f3n cambia, se crea un nuevo ADR que reemplaza al anterior.</li> </ul>"},{"location":"adrs/index_adrs/#indice-de-adrs","title":"\ud83d\udcda \u00cdndice de ADRs","text":"ID Estado T\u00edtulo Fecha ADR-001 \u2705 Aceptado Uso de MkDocs para Documentaci\u00f3n 2025-11-20"},{"location":"adrs/index_adrs/#como-crear-un-adr","title":"\ud83d\udee0\ufe0f C\u00f3mo Crear un ADR","text":"<ol> <li>Usa la plantilla como base.</li> <li>Asigna el siguiente n\u00famero secuencial disponible.</li> <li>Completa las secciones: Contexto, Decisi\u00f3n, Consecuencias.</li> <li>Abre un Pull Request y vincula el ADR con el componente C4 afectado.</li> </ol>"},{"location":"adrs/index_adrs/#estados-de-un-adr","title":"Estados de un ADR","text":"<ul> <li>Propuesto: En discusi\u00f3n, pendiente de aprobaci\u00f3n.</li> <li>Aceptado: Decisi\u00f3n aprobada e implementada.</li> <li>Rechazado: Descartado sin implementar.</li> <li>Reemplazado: Superseded por un ADR m\u00e1s reciente (indicar cu\u00e1l).</li> </ul> <p>Nota: Para m\u00e1s detalles sobre c\u00f3mo escribir ADRs, consulta la Gu\u00eda de Contribuci\u00f3n.</p>"},{"location":"adrs/template/","title":"Plantilla de Registro de Decisi\u00f3n Arquitect\u00f3nica (ADR)","text":"<p>ID: [ADR-000] T\u00edtulo: [T\u00edtulo corto de la decisi\u00f3n] Estado: [Propuesto | Aceptado | Rechazado | Reemplazado] Fecha: [AAAA-MM-DD]</p>"},{"location":"adrs/template/#contexto","title":"Contexto","text":"<p>Describa el problema, las restricciones y el contexto que motivan esta decisi\u00f3n. \u00bfQu\u00e9 situaci\u00f3n t\u00e9cnica, de negocio o de equipo estamos tratando de resolver?</p>"},{"location":"adrs/template/#decision","title":"Decisi\u00f3n","text":"<p>Describa la decisi\u00f3n tomada de manera clara.  *   Se eligi\u00f3 la opci\u00f3n: [Opci\u00f3n X] *   Porque: [Justificaci\u00f3n principal]</p>"},{"location":"adrs/template/#consecuencias","title":"Consecuencias","text":"<p>Describa los resultados de aplicar esta decisi\u00f3n.</p> <ul> <li> <p>Positivas:</p> <ul> <li>[Beneficio 1]</li> <li>[Beneficio 2]</li> </ul> </li> <li> <p>Negativas/Riesgos:</p> <ul> <li>[Desventaja 1]</li> <li>[Riesgo mitigado o aceptado]</li> </ul> </li> </ul>"},{"location":"adrs/template/#historial","title":"Historial","text":"<ul> <li>[AAAA-MM-DD] - [Autor] - Creaci\u00f3n inicial.</li> </ul>"},{"location":"c4model/index_c4model/","title":"\ud83c\udfd7\ufe0f Arquitectura del Sistema (Vista C4)","text":"<p>Para Gerencia y Stakeholders</p> <p>Esta p\u00e1gina presenta la arquitectura del sistema usando lenguaje no t\u00e9cnico. No necesitas conocimientos de programaci\u00f3n para entenderla.</p>"},{"location":"c4model/index_c4model/#que-es-el-modelo-c4","title":"\ud83d\udcd6 \u00bfQu\u00e9 es el Modelo C4?","text":"<p>El modelo C4 es una forma visual de explicar c\u00f3mo est\u00e1 construido un sistema de software. Tiene 4 niveles de detalle (de mayor a menor abstracci\u00f3n):</p> <ol> <li>Contexto (C1) \u2190 Est\u00e1s aqu\u00ed - Vista panor\u00e1mica para ejecutivos</li> <li>Contenedores (C2) - Tecnolog\u00edas principales (para arquitectos)</li> <li>Componentes (C3) - M\u00f3dulos internos (para desarrolladores)</li> <li>C\u00f3digo (C4) - Clases y m\u00e9todos (para programadores)</li> </ol>"},{"location":"c4model/index_c4model/#nivel-1-vista-de-contexto-c1","title":"\ud83c\udf0d Nivel 1: Vista de Contexto (C1)","text":""},{"location":"c4model/index_c4model/#que-muestra-este-diagrama","title":"\u00bfQu\u00e9 muestra este diagrama?","text":"<ul> <li>Personas: Qui\u00e9nes usan el sistema</li> <li>Sistema Central: Nuestra aplicaci\u00f3n Finanzas AGV</li> <li>Sistemas Externos: Otras plataformas con las que nos conectamos</li> <li>Relaciones: C\u00f3mo fluye la informaci\u00f3n entre ellos</li> </ul>"},{"location":"c4model/index_c4model/#diagrama-de-contexto","title":"Diagrama de Contexto","text":"<p>Ideal para No T\u00e9cnicos</p> <p>Este diagrama es perfecto para presentaciones ejecutivas, ya que muestra QU\u00c9 hace el sistema sin explicar C\u00d3MO lo hace internamente.</p> <pre><code>workspace \"Finanzas AGV\" \"Sistema de gesti\u00f3n financiera y cobranzas.\" {\n\n    model {\n        user = person \"Usuario Financiero\" \"Personal de finanzas, cobranzas y tesorer\u00eda.\"\n        admin = person \"Administrador\" \"Administrador del sistema y TI.\"\n\n        enterprise \"Agrovet Market\" {\n            financeSystem = softwareSystem \"Sistema Finanzas AGV\" \"Permite la gesti\u00f3n de cobranzas, tesorer\u00eda, detracciones y reportes.\" {\n                description \"Sistema central de finanzas que integra datos de ERP y facilita la toma de decisiones.\"\n            }\n\n            erp = softwareSystem \"ERP Odoo\" \"Sistema ERP central de la empresa.\" \"External System\"\n            emailSystem = softwareSystem \"Servidor de Correo\" \"Env\u00eda notificaciones y estados de cuenta.\" \"External System\"\n            sunat = softwareSystem \"SUNAT / OSE\" \"Plataforma de facturaci\u00f3n electr\u00f3nica y validaci\u00f3n.\" \"External System\"\n        }\n\n        # Relaciones\n        user -&gt; financeSystem \"Visualiza reportes, gestiona cobranzas y tesorer\u00eda\"\n        admin -&gt; financeSystem \"Configura usuarios y par\u00e1metros\"\n\n        financeSystem -&gt; erp \"Extrae facturas, pagos y clientes\" \"API/DB\"\n        financeSystem -&gt; emailSystem \"Env\u00eda correos a clientes\" \"SMTP\"\n        financeSystem -&gt; sunat \"Consulta validez de comprobantes\" \"API\"\n    }\n\n    views {\n        systemContext financeSystem \"Contexto\" {\n            include *\n            autoLayout\n        }\n\n        styles {\n            element \"Software System\" {\n                background #714B67\n                color #ffffff\n            }\n            element \"Person\" {\n                shape Person\n                background #08427b\n                color #ffffff\n            }\n            element \"External System\" {\n                background #999999\n                color #ffffff\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"c4model/index_c4model/#descripcion-de-elementos-en-lenguaje-simple","title":"\ud83d\udcca Descripci\u00f3n de Elementos (en Lenguaje Simple)","text":"Elemento \u00bfQu\u00e9 hace? \u00bfPor qu\u00e9 es importante? \ud83d\udc64 Usuario Financiero Accede al sistema para consultar cuentas, generar reportes y gestionar cobranzas Son los usuarios finales que toman decisiones financieras \ud83d\udc68\u200d\ud83d\udcbc Administrador Configura permisos, usuarios y par\u00e1metros del sistema Garantiza seguridad y buen funcionamiento \ud83d\udcbc Sistema Finanzas AGV Centraliza informaci\u00f3n financiera y ofrece dashboards en tiempo real Reemplaza procesos manuales y hojas de c\u00e1lculo dispersas \ud83c\udfe2 ERP Odoo Sistema principal de la empresa que tiene facturas, pagos y datos maestros Es la \"fuente de verdad\" de donde obtenemos los datos \ud83d\udce7 Servidor de Correo Env\u00eda autom\u00e1ticamente estados de cuenta y recordatorios a clientes Automatiza comunicaci\u00f3n que antes se hac\u00eda manualmente \ud83c\udfdb\ufe0f SUNAT Plataforma gubernamental para validar documentos tributarios Asegura cumplimiento legal y evita sanciones"},{"location":"c4model/index_c4model/#flujo-de-informacion-ejemplo-practico","title":"\ud83d\udd04 Flujo de Informaci\u00f3n (Ejemplo Pr\u00e1ctico)","text":""},{"location":"c4model/index_c4model/#caso-de-uso-consultar-facturas-vencidas","title":"Caso de Uso: Consultar Facturas Vencidas","text":"<ol> <li>Usuario Financiero ingresa al sistema Finanzas AGV</li> <li>El sistema consulta al ERP Odoo todas las facturas pendientes</li> <li>El sistema calcula autom\u00e1ticamente cu\u00e1les est\u00e1n vencidas (por d\u00edas)</li> <li>El usuario visualiza el reporte filtrado por antig\u00fcedad</li> <li>Opcionalmente, el sistema env\u00eda correos autom\u00e1ticos a clientes morosos v\u00eda Servidor de Correo</li> <li>Si es necesario, el sistema valida con SUNAT que los comprobantes sean leg\u00edtimos</li> </ol>"},{"location":"c4model/index_c4model/#beneficios-de-esta-vista","title":"\ud83c\udfaf Beneficios de Esta Vista","text":""},{"location":"c4model/index_c4model/#para-gerencia","title":"Para Gerencia:","text":"<ul> <li>\u2705 Entender alcance del sistema sin detalles t\u00e9cnicos</li> <li>\u2705 Identificar dependencias con otros sistemas (Odoo, SUNAT)</li> <li>\u2705 Justificar inversiones en integraciones</li> </ul>"},{"location":"c4model/index_c4model/#para-stakeholders","title":"Para Stakeholders:","text":"<ul> <li>\u2705 Visualizar r\u00e1pidamente \"qui\u00e9n hace qu\u00e9\"</li> <li>\u2705 Comprender riesgos (si Odoo falla, Finanzas AGV no funciona)</li> <li>\u2705 Validar que el sistema cumple las necesidades del negocio</li> </ul>"},{"location":"c4model/index_c4model/#para-ti","title":"Para TI:","text":"<ul> <li>\u2705 Comunicar arquitectura a \u00e1reas no t\u00e9cnicas</li> <li>\u2705 Identificar puntos de integraci\u00f3n para mantenimiento</li> <li>\u2705 Planificar contingencias ante fallas de sistemas externos</li> </ul>"},{"location":"c4model/index_c4model/#siguientes-niveles-para-personal-tecnico","title":"\ud83d\udcda Siguientes Niveles (Para Personal T\u00e9cnico)","text":"<p>Si necesitas m\u00e1s detalles sobre la implementaci\u00f3n:</p> <ul> <li>Nivel 2 (Contenedores): Tecnolog\u00edas usadas (Python, Flask, React, etc.)</li> <li>Nivel 3 (Componentes): M\u00f3dulos internos (servicios, rutas, modelos)</li> <li>Nivel 4 (C\u00f3digo): Clases y funciones espec\u00edficas</li> </ul> <p>Nota: Los niveles 2-4 est\u00e1n documentados en secciones t\u00e9cnicas y requieren conocimiento de programaci\u00f3n.</p>"},{"location":"c4model/index_c4model/#referencias","title":"\ud83d\udd17 Referencias","text":"<ul> <li>Resumen Ejecutivo - Visi\u00f3n general sin diagramas</li> <li>Documentaci\u00f3n Completa - Detalles t\u00e9cnicos del proyecto</li> <li>Structurizr DSL - C\u00f3digo fuente del diagrama (para desarrolladores)</li> </ul>"},{"location":"runbooks/","title":"Runbooks","text":"<p>Esta secci\u00f3n contiene procedimientos operacionales est\u00e1ndar para el mantenimiento y resoluci\u00f3n de problemas del sistema.</p>"},{"location":"runbooks/#indice-de-runbooks","title":"\u00cdndice de Runbooks","text":""},{"location":"runbooks/#despliegue-y-mantenimiento","title":"\ud83d\ude80 Despliegue y Mantenimiento","text":"<ul> <li>RB-001: Despliegue en Producci\u00f3n: Pasos para actualizar el sistema en el servidor productivo.</li> <li>RB-002: Gesti\u00f3n de Base de Datos: Backup, restore y migraciones.</li> </ul>"},{"location":"runbooks/#troubleshooting-solucion-de-problemas","title":"\ud83d\udd27 Troubleshooting (Soluci\u00f3n de Problemas)","text":"<ul> <li>RB-101: Error de Conexi\u00f3n Odoo: Qu\u00e9 hacer si falla la sincronizaci\u00f3n con el ERP.</li> <li>RB-102: Fallo en Env\u00edo de Correos: Diagn\u00f3stico de problemas SMTP.</li> </ul>"},{"location":"runbooks/index_runbooks/","title":"Runbooks","text":"<p>Esta secci\u00f3n contiene procedimientos operacionales est\u00e1ndar para el mantenimiento y resoluci\u00f3n de problemas del sistema.</p>"},{"location":"runbooks/index_runbooks/#indice-de-runbooks","title":"\u00cdndice de Runbooks","text":""},{"location":"runbooks/index_runbooks/#despliegue-y-mantenimiento","title":"\ud83d\ude80 Despliegue y Mantenimiento","text":"<ul> <li>RB-001: Despliegue en Producci\u00f3n: Pasos para actualizar el sistema en el servidor productivo.</li> <li>RB-002: Gesti\u00f3n de Base de Datos: Backup, restore y migraciones.</li> </ul>"},{"location":"runbooks/index_runbooks/#troubleshooting-solucion-de-problemas","title":"\ud83d\udd27 Troubleshooting (Soluci\u00f3n de Problemas)","text":"<ul> <li>RB-101: Error de Conexi\u00f3n Odoo: Qu\u00e9 hacer si falla la sincronizaci\u00f3n con el ERP.</li> <li>RB-102: Fallo en Env\u00edo de Correos: Diagn\u00f3stico de problemas SMTP.</li> </ul>"},{"location":"runbooks/rb-001-deploy-prod/","title":"RB-001: Despliegue en Producci\u00f3n","text":"<p>ID: RB-001 \u00daltima Actualizaci\u00f3n: 2025-11-20 Responsable: DevOps / Tech Lead</p>"},{"location":"runbooks/rb-001-deploy-prod/#objetivo","title":"\ud83c\udfaf Objetivo","text":"<p>Desplegar una nueva versi\u00f3n del backend y frontend en el servidor de producci\u00f3n minimizando el tiempo de inactividad.</p>"},{"location":"runbooks/rb-001-deploy-prod/#prerrequisitos","title":"\ud83d\udccb Prerrequisitos","text":"<ul> <li>[ ] Acceso SSH al servidor de producci\u00f3n.</li> <li>[ ] La rama <code>main</code> debe haber pasado todos los tests en CI.</li> <li>[ ] Backup reciente de la base de datos (ver RB-002).</li> </ul>"},{"location":"runbooks/rb-001-deploy-prod/#pasos-de-ejecucion","title":"\ud83d\udc63 Pasos de Ejecuci\u00f3n","text":""},{"location":"runbooks/rb-001-deploy-prod/#1-acceder-al-servidor","title":"1. Acceder al Servidor","text":"<pre><code>ssh user@produccion-server\ncd /opt/finanzas-agv\n</code></pre>"},{"location":"runbooks/rb-001-deploy-prod/#2-actualizar-codigo","title":"2. Actualizar C\u00f3digo","text":"<pre><code>git pull origin main\n</code></pre>"},{"location":"runbooks/rb-001-deploy-prod/#3-actualizar-dependencias-backend","title":"3. Actualizar Dependencias (Backend)","text":"<pre><code>source venv/bin/activate\npip install -r requirements.txt\n</code></pre>"},{"location":"runbooks/rb-001-deploy-prod/#4-aplicar-migraciones-de-base-de-datos","title":"4. Aplicar Migraciones de Base de Datos","text":"<pre><code>flask db upgrade\n</code></pre> <p>\u26a0\ufe0f Atenci\u00f3n: Si hay errores en la migraci\u00f3n, ejecutar <code>flask db downgrade</code> y revisar logs.</p>"},{"location":"runbooks/rb-001-deploy-prod/#5-reiniciar-servicios","title":"5. Reiniciar Servicios","text":"<pre><code>sudo systemctl restart finanzas-agv\nsudo systemctl status finanzas-agv\n</code></pre>"},{"location":"runbooks/rb-001-deploy-prod/#6-verificacion-smoke-test","title":"6. Verificaci\u00f3n (Smoke Test)","text":"<ol> <li>Entrar a <code>https://finanzas.agrovetmarket.com</code></li> <li>Hacer login.</li> <li>Verificar que el Dashboard cargue datos recientes.</li> </ol>"},{"location":"runbooks/rb-001-deploy-prod/#plan-de-rollback","title":"\ud83d\udd19 Plan de Rollback","text":"<p>Si algo falla cr\u00edticamente: 1.  Revertir c\u00f3digo: <code>git reset --hard HEAD@{1}</code> 2.  Revertir dependencias: <code>pip install -r requirements.txt</code> 3.  Reiniciar servicio: <code>sudo systemctl restart finanzas-agv</code></p>"},{"location":"runbooks/rb-002-db-management/","title":"RB-002: Gesti\u00f3n de Base de Datos","text":"<p>ID: RB-002 \u00daltima Actualizaci\u00f3n: 2025-11-20 Responsable: DBA / DevOps</p>"},{"location":"runbooks/rb-002-db-management/#objetivo","title":"\ud83c\udfaf Objetivo","text":"<p>Realizar operaciones seguras de backup, restore y migraciones de la base de datos del sistema Finanzas AGV.</p>"},{"location":"runbooks/rb-002-db-management/#prerrequisitos","title":"\ud83d\udccb Prerrequisitos","text":"<ul> <li>[ ] Acceso al servidor de base de datos.</li> <li>[ ] Credenciales con permisos de administraci\u00f3n.</li> <li>[ ] Espacio suficiente en disco para backups (m\u00ednimo 2GB).</li> </ul>"},{"location":"runbooks/rb-002-db-management/#seccion-1-backup-de-base-de-datos","title":"\ud83d\udd04 Secci\u00f3n 1: Backup de Base de Datos","text":""},{"location":"runbooks/rb-002-db-management/#paso-11-conectar-al-servidor","title":"Paso 1.1: Conectar al Servidor","text":"<pre><code>ssh user@db-server\ncd /var/backups/finanzas-agv\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-12-crear-backup","title":"Paso 1.2: Crear Backup","text":"<pre><code># PostgreSQL\npg_dump -U finanzas_user -d finanzas_db -F c -f backup_$(date +%Y%m%d_%H%M%S).dump\n\n# MySQL\nmysqldump -u finanzas_user -p finanzas_db &gt; backup_$(date +%Y%m%d_%H%M%S).sql\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-13-verificar-integridad","title":"Paso 1.3: Verificar Integridad","text":"<pre><code>ls -lh backup_*.dump\nmd5sum backup_*.dump &gt; backup_checksums.txt\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-14-subir-a-s3-opcional","title":"Paso 1.4: Subir a S3 (Opcional)","text":"<pre><code>aws s3 cp backup_$(date +%Y%m%d).dump s3://finanzas-backups/\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#seccion-2-restore-de-base-de-datos","title":"\ud83d\udd19 Secci\u00f3n 2: Restore de Base de Datos","text":"<p>\u26a0\ufe0f ADVERTENCIA: Esta operaci\u00f3n sobrescribir\u00e1 los datos existentes.</p>"},{"location":"runbooks/rb-002-db-management/#paso-21-detener-la-aplicacion","title":"Paso 2.1: Detener la Aplicaci\u00f3n","text":"<pre><code>sudo systemctl stop finanzas-agv\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-22-restaurar-desde-backup","title":"Paso 2.2: Restaurar desde Backup","text":"<pre><code># PostgreSQL\npg_restore -U finanzas_user -d finanzas_db -c backup_20251120.dump\n\n# MySQL\nmysql -u finanzas_user -p finanzas_db &lt; backup_20251120.sql\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-23-verificar-datos","title":"Paso 2.3: Verificar Datos","text":"<pre><code>psql -U finanzas_user -d finanzas_db -c \"SELECT COUNT(*) FROM invoices;\"\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-24-reiniciar-aplicacion","title":"Paso 2.4: Reiniciar Aplicaci\u00f3n","text":"<pre><code>sudo systemctl start finanzas-agv\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#seccion-3-aplicar-migraciones","title":"\ud83d\udd27 Secci\u00f3n 3: Aplicar Migraciones","text":""},{"location":"runbooks/rb-002-db-management/#paso-31-revisar-migraciones-pendientes","title":"Paso 3.1: Revisar Migraciones Pendientes","text":"<pre><code>cd /opt/finanzas-agv\nsource venv/bin/activate\nflask db current\nflask db history\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-32-crear-backup-preventivo","title":"Paso 3.2: Crear Backup Preventivo","text":"<p>Ver Secci\u00f3n 1.</p>"},{"location":"runbooks/rb-002-db-management/#paso-33-ejecutar-migraciones","title":"Paso 3.3: Ejecutar Migraciones","text":"<pre><code>flask db upgrade\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#paso-34-validar-resultado","title":"Paso 3.4: Validar Resultado","text":"<pre><code>flask db current\n# Verificar que la versi\u00f3n coincida con la \u00faltima migraci\u00f3n\n</code></pre>"},{"location":"runbooks/rb-002-db-management/#troubleshooting","title":"\ud83c\udd98 Troubleshooting","text":""},{"location":"runbooks/rb-002-db-management/#error-permission-denied","title":"Error: \"Permission denied\"","text":"<p>Causa: Usuario sin permisos suficientes. Soluci\u00f3n: <pre><code>sudo -u postgres pg_dump ...\n</code></pre></p>"},{"location":"runbooks/rb-002-db-management/#error-disk-full","title":"Error: \"Disk full\"","text":"<p>Causa: Sin espacio para el backup. Soluci\u00f3n: <pre><code># Limpiar backups antiguos (m\u00e1s de 30 d\u00edas)\nfind /var/backups/finanzas-agv -name \"backup_*.dump\" -mtime +30 -delete\n</code></pre></p>"},{"location":"runbooks/rb-002-db-management/#error-migration-conflict","title":"Error: \"Migration conflict\"","text":"<p>Causa: Ramas con migraciones paralelas. Soluci\u00f3n: <pre><code>flask db merge heads\nflask db upgrade\n</code></pre></p>"},{"location":"runbooks/rb-002-db-management/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>PostgreSQL Backup Documentation</li> <li>Ver decisiones arquitect\u00f3nicas en \u00cdndice de ADRs</li> </ul>"},{"location":"runbooks/rb-101-odoo-connection/","title":"RB-101: Error de Conexi\u00f3n Odoo","text":"<p>ID: RB-101 \u00daltima Actualizaci\u00f3n: 2025-11-20 Responsable: DevOps / Backend Developer</p>"},{"location":"runbooks/rb-101-odoo-connection/#objetivo","title":"\ud83c\udfaf Objetivo","text":"<p>Diagnosticar y resolver problemas de conexi\u00f3n entre el sistema Finanzas AGV y el ERP Odoo.</p>"},{"location":"runbooks/rb-101-odoo-connection/#prerrequisitos","title":"\ud83d\udccb Prerrequisitos","text":"<ul> <li>[ ] Acceso al servidor de aplicaci\u00f3n.</li> <li>[ ] Credenciales de Odoo para testing.</li> <li>[ ] Acceso a logs del sistema.</li> </ul>"},{"location":"runbooks/rb-101-odoo-connection/#diagnostico","title":"\ud83d\udd0d Diagn\u00f3stico","text":""},{"location":"runbooks/rb-101-odoo-connection/#paso-1-verificar-estado-del-servicio","title":"Paso 1: Verificar Estado del Servicio","text":"<pre><code>cd /opt/finanzas-agv\nsource venv/bin/activate\npython conectar_odoo.py\n</code></pre>"},{"location":"runbooks/rb-101-odoo-connection/#paso-2-revisar-logs","title":"Paso 2: Revisar Logs","text":"<pre><code>tail -f /var/log/finanzas-agv/app.log | grep -i \"odoo\\|xmlrpc\"\n</code></pre>"},{"location":"runbooks/rb-101-odoo-connection/#paso-3-verificar-variables-de-entorno","title":"Paso 3: Verificar Variables de Entorno","text":"<pre><code>echo $ODOO_URL\necho $ODOO_DB\necho $ODOO_USER\n</code></pre>"},{"location":"runbooks/rb-101-odoo-connection/#soluciones-comunes","title":"\ud83d\udee0\ufe0f Soluciones Comunes","text":""},{"location":"runbooks/rb-101-odoo-connection/#error-connection-timeout","title":"Error: \"Connection Timeout\"","text":"<p>Causa: Odoo no responde o firewall bloqueando.</p> <p>Soluci\u00f3n: <pre><code># Verificar conectividad\ncurl -v $ODOO_URL/web/database/selector\n\n# Verificar firewall\nsudo ufw status\n</code></pre></p>"},{"location":"runbooks/rb-101-odoo-connection/#error-authentication-failed","title":"Error: \"Authentication Failed\"","text":"<p>Causa: Credenciales incorrectas o usuario deshabilitado.</p> <p>Soluci\u00f3n: 1. Validar credenciales en interfaz web de Odoo. 2. Actualizar <code>.env</code>: <pre><code>ODOO_USER=usuario_correcto\nODOO_PASSWORD=nueva_password\n</code></pre></p>"},{"location":"runbooks/rb-101-odoo-connection/#error-xmlrpcclientfault-access-denied","title":"Error: \"xmlrpc.client.Fault: Access Denied\"","text":"<p>Causa: Usuario sin permisos API.</p> <p>Soluci\u00f3n: En Odoo, asignar grupo \"API Access\" al usuario t\u00e9cnico.</p>"},{"location":"runbooks/rb-101-odoo-connection/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>Documentaci\u00f3n Odoo XML-RPC</li> <li>Ver <code>conectar_odoo.py</code> para implementaci\u00f3n actual</li> </ul>"},{"location":"runbooks/rb-102-email-failure/","title":"RB-102: Fallo en Env\u00edo de Correos","text":"<p>ID: RB-102 \u00daltima Actualizaci\u00f3n: 2025-11-20 Responsable: DevOps / Backend Developer</p>"},{"location":"runbooks/rb-102-email-failure/#objetivo","title":"\ud83c\udfaf Objetivo","text":"<p>Diagnosticar y resolver problemas de env\u00edo de correos electr\u00f3nicos desde el sistema Finanzas AGV.</p>"},{"location":"runbooks/rb-102-email-failure/#prerrequisitos","title":"\ud83d\udccb Prerrequisitos","text":"<ul> <li>[ ] Acceso a logs de la aplicaci\u00f3n.</li> <li>[ ] Credenciales SMTP v\u00e1lidas.</li> <li>[ ] Acceso al panel de email provider (Gmail, Outlook, etc.).</li> </ul>"},{"location":"runbooks/rb-102-email-failure/#diagnostico","title":"\ud83d\udd0d Diagn\u00f3stico","text":""},{"location":"runbooks/rb-102-email-failure/#paso-1-verificar-configuracion-smtp","title":"Paso 1: Verificar Configuraci\u00f3n SMTP","text":"<pre><code>cd /opt/finanzas-agv\ncat .env | grep MAIL\n</code></pre> <p>Validar: - <code>MAIL_SERVER</code> - <code>MAIL_PORT</code> - <code>MAIL_USERNAME</code> - <code>MAIL_PASSWORD</code> - <code>MAIL_USE_TLS</code></p>"},{"location":"runbooks/rb-102-email-failure/#paso-2-test-de-conexion-smtp","title":"Paso 2: Test de Conexi\u00f3n SMTP","text":"<pre><code>source venv/bin/activate\npython -c \"\nfrom flask_mail import Mail, Message\nfrom app import create_app\napp = create_app()\nwith app.app_context():\n    mail = Mail(app)\n    msg = Message('Test', sender='noreply@agrovet.com', recipients=['test@test.com'])\n    mail.send(msg)\nprint('Email enviado correctamente')\n\"\n</code></pre>"},{"location":"runbooks/rb-102-email-failure/#soluciones-comunes","title":"\ud83d\udee0\ufe0f Soluciones Comunes","text":""},{"location":"runbooks/rb-102-email-failure/#error-smtpauthenticationerror","title":"Error: \"SMTPAuthenticationError\"","text":"<p>Causa: Credenciales incorrectas o contrase\u00f1a de app no configurada.</p> <p>Soluci\u00f3n (Gmail): 1. Habilitar \"Contrase\u00f1as de aplicaciones\" en cuenta Google. 2. Generar nueva contrase\u00f1a espec\u00edfica para la app. 3. Actualizar <code>.env</code>: <pre><code>MAIL_PASSWORD=nueva_app_password\n</code></pre></p>"},{"location":"runbooks/rb-102-email-failure/#error-connection-refused-port-587","title":"Error: \"Connection Refused (Port 587)\"","text":"<p>Causa: Firewall bloqueando puerto SMTP.</p> <p>Soluci\u00f3n: <pre><code># Abrir puerto\nsudo ufw allow 587/tcp\nsudo systemctl restart finanzas-agv\n</code></pre></p>"},{"location":"runbooks/rb-102-email-failure/#error-emails-en-cola-sin-enviar","title":"Error: \"Emails en Cola sin Enviar\"","text":"<p>Causa: Worker de correos detenido.</p> <p>Soluci\u00f3n: <pre><code># Si usas Celery\nsudo systemctl restart celery-worker\nsudo systemctl status celery-worker\n</code></pre></p>"},{"location":"runbooks/rb-102-email-failure/#referencias","title":"\ud83d\udcda Referencias","text":"<ul> <li>Flask-Mail Documentation</li> <li>Ver decisiones arquitect\u00f3nicas en \u00cdndice de ADRs</li> </ul>"}]}